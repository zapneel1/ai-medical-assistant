/*! For license information please see PostPage.MainContent.ee4a5ea4.chunk.js.LICENSE.txt */
(self.webpackChunklite=self.webpackChunklite||[]).push([[5304],{50014:(e,n,i)=>{var t=i(15389),a=i(55765);e.exports=function(e,n){return e&&e.length?a(e,t(n,2)):[]}},65507:(e,n,i)=>{"use strict";i.d(n,{r:()=>l});var t=i(96540),a=i(99731),o=i(52290),l=function(e){var n=e.children,i=e.href,l=e.width,d=void 0===l?{xs:"100%",sm:"100%",md:"min-width",lg:"min-width",xl:"min-width"}:l;return t.createElement(a.$n,{href:i,buttonStyle:"SUBTLE",width:d},t.createElement(o.a,{textAlign:"center"},n))}},90048:(e,n,i)=>{"use strict";i.r(n),i.d(n,{MainContent:()=>gl,useLoader:()=>vl});var t=i(64467),a=i(39181),o=i(96540),l=i(54239),d=i(26365),r=i(51622),s=i(42680),m=i(69699),c=i(9942),u=i(50684),k=i(39160),p=i(79959);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var f=["blog.coinbase.com","moody-pub.medium.fail"],S=function(e){var n,i=e.post.mediumUrl,t=e.matchedPath,a=e.children,l=(0,k.d4)((function(e){return e.navigation.currentHash})),d=(0,u.pE)("postPublishedType"),s=(0,u.pE)("responsesOpen"),m=(0,u.MW)(),v=(0,u.WZ)(),S=(0,k.d4)((function(e){return e.navigation.host})),N=(0,p.GA)();if(!i||N)return a;try{n=new URL(i)}catch(e){return a}var h=g(g(g(g({},m?{source:m}:{}),v?{sk:v}:{}),d?{postPublishedType:d}:{}),s?{responsesOpen:s}:{});if(S!==n.host)return f.indexOf(S)>-1?o.createElement(r.u,null):o.createElement(c.r,{to:(0,p.ST)(i,h,l),replace:!0});var y=n.pathname+n.search;return y&&t!==decodeURIComponent(y)?o.createElement(c.r,{to:(0,p.ST)(y,h,l),replace:!0}):a},N=i(45458),h=i(81666),y=i(50112),F={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,N.A)(y.f.definitions))},b=i(59265),E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkSharer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,N.A)(b.v0.definitions))},x={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_postContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"shareKeyCreator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}}]}}].concat((0,N.A)(E.definitions))},w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,N.A)(x.definitions),(0,N.A)(E.definitions),(0,N.A)(F.definitions))},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}}]}}]}}]}}]}}].concat((0,N.A)(h.Rq.definitions),(0,N.A)(x.definitions))},_=function(){var e,n,i,t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=(0,k.d4)((function(e){return e.navigation.referrer})),r=null!==(e=(0,u.WZ)())&&void 0!==e?e:void 0,s={referrer:d,sk:r,source:null!==(n=(0,u.MW)())&&void 0!==n?n:void 0},m=!l&&!r,c=(0,a.I)(P,{variables:{postId:o,postMeteringOptions:s},ssr:!1,skip:!o||m}),p=c.loading,v=c.error,g=c.data,f=null==g||null===(i=g.post)||void 0===i||null===(t=i.viewerEdge)||void 0===t?void 0:t.fullContent;return p?{loading:p}:v?{error:v}:{content:f}},A=i(28072),C=i(49287),T=i(46879),D=i(35642),I=i(60213),R=i(64122),O=i(88726),L=i(52290),M=i(85050),B=i(56942),V=i(20239),j=i(18302),U=i(90280),z=i(615),W=i(20621),G=i(27049),Z=function(e){return e.filter((function(e){return!(null==e||!e.feedId||null==e||!e.post)}))},H=function(e){var n=e.item,i=n.feedId,t=n.post,a=e.index,l=e.lastIndex,d=(0,V.D)(),r=(0,k.d4)((function(e){return e.client.viewerIsBot}));return o.createElement(z.E,{size:{xs:12,sm:12,md:6,lg:6,xl:6}},o.createElement(L.a,{paddingBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},height:"100%"},o.createElement(C.Ne,{extendSource:!0,source:{index:a,feedId:r?void 0:i}},o.createElement(j.h,{index:a,post:t,scale:"S",aspectRatio:U.l8.TwoToOne,lastIndex:l,dividerBreakpoints:[G.i.xs,G.i.sm],dividerColor:d.colorTokens.border.neutral.tertiary.base,miroImgFetchedWidth:679}))))},q=function(e){var n=e.items;return o.createElement(W.E,{alignItems:"stretch"},n.map((function(e,i){return o.createElement(H,{key:e.post.id,item:e,index:i,lastIndex:n.length-1})})))},Y=i(65507),Q=function(e){var n=e.authorCollectionRecircFeed,i=e.user,t=e.collection,a=(0,V.D)(),l=(null==n?void 0:n.items)||[],d=Z(l),r=(0,R.f)(i);if(null==d||!d.length)return null;var s=1===(null==d?void 0:d.length);return o.createElement(C.Ne,{source:{dimension:"author_recirc"},extendSource:!0},o.createElement(A.P,{size:"app"},o.createElement(L.a,{marginTop:"16px",marginBottom:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"}},o.createElement(B.DZ,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"More from ",i.name,t&&" and ".concat(t.name))),s?o.createElement(o.Fragment,null,o.createElement(M.V,{xs:!0,sm:!0},o.createElement(q,{items:d})),o.createElement(M.V,{md:!0,lg:!0,xl:!0},o.createElement(D.$,{post:d[0].post,scale:"L",index:0,lastIndex:0,dividerColor:a.colorTokens.border.neutral.tertiary.base}))):o.createElement(q,{items:d}),o.createElement(O.i,{marginTop:s?{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"}:void 0,marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:a.colorTokens.border.neutral.tertiary.base}),o.createElement(L.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},o.createElement(Y.r,{href:r},"See all from ",null==i?void 0:i.name),t&&o.createElement(K,{collection:t}))),o.createElement(O.i,{marginTop:{xs:"72px",sm:"72px",md:"96px",lg:"96px",xl:"96px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},K=function(e){var n=e.collection,i=(0,I.z)(n);return o.createElement(L.a,{marginTop:{xs:"16px",sm:"16px",md:"0px",lg:"0px",xl:"0px"},marginLeft:{xs:"0",sm:"0",md:"16px",lg:"16px",xl:"16px"}},o.createElement(Y.r,{href:i},"See all from ",null==n?void 0:n.name))},X=i(18591),$=i(8075),J={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"feedId"}}]}}]}}].concat((0,N.A)(X.e.definitions),(0,N.A)($.Y.definitions))},ee={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,N.A)(b.v0.definitions))},ne={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,N.A)(b.dl.definitions))},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromAuthorAndMaybePubQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorCollectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"}}]}}]}}].concat((0,N.A)(J.definitions))},te=i(46225),ae=i(7367),oe=i(21277),le=i(86527),de=i(36557),re=i(12378),se=i(15371),me=i(46963),ce=i(39204),ue=i(7380),ke=i(74015),pe=i(67459),ve=i(66356),ge=i(5562),fe=i(39410),Se=i(21771),Ne=(0,o.forwardRef)((function(e,n){var i=e.post,t=i.title,a=i.isLocked,l=i.createdAt,d=(0,pe.J)(i);return o.createElement(L.a,{marginRight:"16px",flexShrink:"0",ref:n,position:"relative"},o.createElement(Se.V,{post:i,presentationContext:"POST_PREVIEW",shouldReportClientViewed:!1,isFullPost:!1},o.createElement(ue.p,null,o.createElement(L.a,{borderRadius:"4px",border:"neutral.primary",width:"240px",height:"148px",padding:"24px",display:"flex",flexDirection:"column"},o.createElement(L.a,{flexGrow:"1",flexBasis:"0%"},o.createElement(ke.O,{post:i,marginBottom:"8px"}),o.createElement(ue.o,null,o.createElement(le.N,{href:d},o.createElement(fe.hE,{scale:"XS",clamp:2},t)))),o.createElement(L.a,{display:"flex",alignItems:"center"},a&&o.createElement(o.Fragment,null,o.createElement(ce.F,{post:i,hideLabelDesktop:!0}),o.createElement(ge.d,{margin:"0 8px"})),l&&o.createElement(de.kZ,{scale:"S"},o.createElement(ve.c,{timestamp:l,isShorthand:!0})))))))})),he=function(e){var n,i,t=e.catalog,a=e.currentPostId,l=(0,V.D)(),d=(0,k.d4)((function(e){return e.config.authDomain})),r=(0,me.U)(),s=(0,o.useRef)(null),m=r===G.i.xs||r===G.i.sm?300:600,c=(0,T.n1u)(t,d),u=null==t||null===(n=t.itemsConnection)||void 0===n||null===(i=n.items)||void 0===i?void 0:i.map((function(e){var n;return"Post"===(null===(n=e.entity)||void 0===n?void 0:n.__typename)?e.entity:void 0})).filter((function(e){return!!e&&e.id!==a})).slice(0,10);return u.length?o.createElement(C.Ne,{extendSource:!0,source:{dimension:"list_recirc",catalogId:t.id}},o.createElement(L.a,{marginBottom:{xs:"40px",sm:"40px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(O.i,{borderColor:l.colorTokens.border.neutral.primary.base,marginBottom:{xs:"30px",sm:"30px",md:"50px",lg:"50px",xl:"50px"}}),o.createElement(A.P,{size:"app"},o.createElement(B.DZ,{scale:"XS"},o.createElement(le.N,{href:c},'More from the list: "',(0,se.DX)(t),'"')),o.createElement(L.a,{display:"flex",marginTop:"8px",alignItems:"center"},o.createElement(L.a,{flexShrink:"0",whiteSpace:"nowrap",marginRight:"4px"},o.createElement(de.kZ,{scale:"S"},"Curated by")),o.createElement(oe.x,{user:t.creator,includeVerifiedAuthorBadge:!1}))),o.createElement(L.a,{margin:"24px 0",position:"relative"},o.createElement(ae.x5,{firstItemRef:s,scrollPixels:m,arrowPadding:"8px"},o.createElement(L.a,{flexShrink:"0",width:"calc(50% - ".concat(te.g_/2,"px)"),xs:{width:(0,re.c)(te.mW)},sm:{width:(0,re.c)(te.mW)}}),u.map((function(e,n){return o.createElement(Ne,{key:"".concat(e.id,"-").concat(n),post:e,ref:0===n?s:null})})))),o.createElement(A.P,{size:"app"},o.createElement(de.kZ,{scale:"S",color:"ACCENT"},o.createElement(le.N,{href:c},"View list"))))):null},ye=i(65915),Fe=i(25703),be=i(66665),Ee=i(61677),xe=i(4424),we={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreviewByLine_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat((0,N.A)(Fe.c.definitions),(0,N.A)(be._.definitions),(0,N.A)(Ee.T.definitions),(0,N.A)(xe.c.definitions))},Pe=i(93240),_e={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromList_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserName_user"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_post"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getCatalogSlugId_Catalog"}}]}}].concat((0,N.A)(ye.t.definitions),(0,N.A)(we.definitions),(0,N.A)(b.Rm.definitions),(0,N.A)(Pe.S.definitions))},Ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromList_catalog"}}]}}]}}]}}].concat((0,N.A)(_e.definitions))},Ce=i(1422),Te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}}]}}]}}]}}]}}].concat((0,N.A)(X.e.definitions))},De={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogsConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogPreview_catalog"}}]}}]}}].concat((0,N.A)(Ce.I.definitions))},Ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecircQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"6"}}]}},{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"}}]}}]}}].concat((0,N.A)(Te.definitions))},Re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecommendedListsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postCatalogRecirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"}}]}}]}}].concat((0,N.A)(De.definitions))},Oe=i(10517),Le=i(7066),Me=i(68436),Be=function(e){var n=e.isDockingEnabled,i=void 0!==n&&n,t=e.undockedBackgroundColor,a=e.maxWidthSize,l=void 0===a?"inset":a,d=e.children,r=e.marginBottom,s=void 0===r?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:r,m=(0,Me._)(i),c=m.dockRef,u=m.markerRef,k=m.isStuck;return o.createElement(o.Fragment,null,o.createElement(L.a,{ref:u}),o.createElement(L.a,{tag:"footer",ref:c,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,re.c)(Le.S),maxHeight:(0,re.c)(Le.S),zIndex:"1",position:i?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:i?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:k?"BACKGROUND":t,borderTop:k?{xs:"NONE",sm:"NONE",md:"neutral.primary",lg:"neutral.primary",xl:"neutral.primary"}:"NONE",marginBottom:s},o.createElement(L.a,{flexGrow:"1"},o.createElement(A.P,{size:l},d))))},Ve=i(80296),je=i(58168),Ue=i(69733),ze=i(27721),We=i(86329),Ge=i(1722),Ze=i(79647),He=i(99731),qe=i(3005),Ye=i(48198),Qe=i(95107),Ke=i(66305),Xe=i(42976),$e=i(91830),Je=i(18642),en=i(27507),nn=i(48642),tn=i(56921),an={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]))},on=function(){return o.createElement(L.a,null,o.createElement(le.N,{inline:!0,linkStyle:"OBVIOUS",href:(0,T.BdX)()},"Learn more")," ","about what happens to your post when you publish.")};var ln,dn=function(e){var n=e.url,i=e.label,t=e.post,a=e.isFriendLink,l=void 0!==a&&a,d=e.testId,r={postId:null==t?void 0:t.id,source:"post_publish_dialog"};return o.createElement(tn.B,(0,je.A)({url:n},r),(function(e){return o.createElement(L.a,{marginBottom:"8px"},o.createElement(He.$n,{"data-testid":null!=d?d:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:He.Rc,width:He.Gk,onClick:function(e){return e}},o.createElement(L.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},l?o.createElement(en.A,null):o.createElement(nn.A,null),e?"Copied!":i,o.createElement(L.a,{height:"24px",width:"24px"}))))}))},rn=function(e){var n=e.post,i=e.isUnlisted,t=e.postPath;return o.createElement(L.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.createElement(de.kZ,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(i)),o.createElement(L.a,{marginTop:"20px"},!i&&o.createElement(o.Fragment,null,o.createElement(Ze._,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareFbButton"}),o.createElement(L.a,{marginBottom:"12px"}),o.createElement(Ze._,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareTwitterButton"}),o.createElement(L.a,{marginBottom:"12px"}),o.createElement(Ze._,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareLinkedinButton"}),o.createElement(L.a,{marginBottom:"12px"})),o.createElement(dn,{url:t,label:"Copy link",post:n})))},sn=function(e){var n=e.viewerId,i=e.isVisible,t=e.hide,a=e.post,l=a.id,d=a.visibility,r=a.curationEligibleAt,s=a.mediumUrl,m=a.isNewsletter,c=a.isPublishToEmail,u=a.isMarkedPaywallOnly,v=a.creator,g=(0,Ge.h)(a),f=g.viewerEdge,S=g.loading,N="UNLISTED"===d,h=!!r,y=(null==f?void 0:f.creatorPartnerProgramEnrollmentStatus)===Xe.$X.ENROLLED,F=null==f?void 0:f.shareKey,b=(0,k.d4)((function(e){return e.config.productName})),E="Your story is published!";return c&&n===(null==v?void 0:v.id)?E="Your story has been published and sent!":m&&(E="Your newsletter is on its way!"),S?null:o.createElement(qe.l,{isVisible:i,hide:t,withAnimation:!0,withCloseButton:!1},o.createElement(L.a,{background:Je.ON,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,Je.qy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},o.createElement(L.a,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},o.createElement(L.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},o.createElement(Qe.mz,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},E),o.createElement(L.a,{maxWidth:"520px",marginTop:"20px"},o.createElement(de.kZ,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,n,i,t,a,l){return t?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):o.createElement(o.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",o.createElement(le.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,l):e?"Your unlisted story will not appear publicly on ".concat(l,", but you can still share it."):a?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":i?n?o.createElement(o.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money by placing it behind the paywall.",o.createElement(on,null)):o.createElement(o.Fragment,null,"You did not choose to paywall this story, so it won't be eligible to earn money.",o.createElement(on,null)):o.createElement(o.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",l," Partner Program."," ",o.createElement(le.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(N,h,y,m,null!=u&&u,b))),o.createElement(L.a,{paddingTop:"20px"},h&&!N&&s&&F&&o.createElement(dn,{url:(0,p.ST)((0,T.us)(a),{sk:F}),label:"Copy Friend Link",post:a,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),o.createElement(L.a,{borderBottom:"neutral.primary",width:"100%",margin:"20px 0"})),l&&s&&o.createElement(rn,{post:a,isUnlisted:N,postPath:(0,T.us)(a)})),o.createElement(Ye.J,{onClick:t,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub"}(ln||(ln={}));var mn=function(e){var n,i=e.post,t=(0,u.pE)("postPublishedType"),l=(0,a.I)(an,{variables:{postId:i.id},skip:t!==ln.initial}),d=l.data,r=(d=void 0===d?{}:d).post,s=l.loading,m=(0,ze.R)().value,c=(0,o.useState)(!1),k=(0,Ve.A)(c,2),p=k[0],v=k[1],g=(0,o.useCallback)((function(){return v(!1)}),[v]),f=(0,Ue.wA)(),S=(0,We.J)(i.collection).viewerEdge,N=(null==m?void 0:m.id)===(null===(n=i.creator)||void 0===n?void 0:n.id)||i.collection&&(null==S?void 0:S.isEditor);(0,o.useEffect)((function(){switch(t){case ln.initial:v(!0);break;case ln.repub:f((0,$e.MZ)({duration:3e3,message:"Your changes have been published."}))}}),[t]);var h=(0,o.useState)(!1),y=(0,Ve.A)(h,2),F=y[0],b=y[1];return F?s||!r||r.inResponseToPostResult||r.inResponseToCatalogResult?null:m&&N?o.createElement(sn,{isVisible:p,hide:g,post:r,viewerId:m.id}):null:(Ke.R5.on("load",(function(){return b(!0)})),null)},cn=i(5811),un=i(64074),kn=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,pn=function(){var e,n,i=(0,V.D)();return o.createElement(L.a,{marginTop:"-240px",background:"linear-gradient(".concat((e=i.backgroundColor,n=e.match(kn),n?"rgba(".concat(n[1],", ").concat(n[2],", ").concat(n[3],", 0)"):(0,Je.u7)(0)),", ").concat(i.backgroundColor,")"),height:"250px",position:"relative",width:"100%"})},vn=function(e){var n=e.children,i=e.forwardedRef,t=e.margin;return o.createElement(o.Fragment,null,o.createElement(pn,null),o.createElement(L.a,{backgroundColor:"BACKGROUND",ref:i},o.createElement(L.a,{margin:"auto",maxWidth:"760px",sm:{margin:null!=t?t:"0 24px 0"}},n)))},gn=(0,o.forwardRef)((function(e,n){return o.createElement(vn,(0,je.A)({},e,{forwardedRef:n}))})),fn=(0,o.memo)(gn),Sn=i(30572),Nn=i(72130),hn=i(71836),yn=function(e){var n=e.postId,i=e.align,t=e.entityId,a=e.id,l=e.buttonStyle,d=void 0===l?"STRONG":l,r=e.onClick,s=(0,ze.R)().value,m=(0,Nn.$L)(),c=(0,k.d4)((function(e){return e.config.authDomain})),u=null==s?void 0:s.hasPastMemberships,v=(0,p.ST)((0,T.Qok)(c),{subscribeToUserId:t||"",susiEntry:"post_paywall"}),g=o.useCallback((function(){m.event("paywall.upgradeClicked",{postId:n,userId:null==s?void 0:s.id}),null==r||r()}),[n,null==s?void 0:s.id]),f=u?"182px":"104px",S=u?"Resume membership":"Upgrade";return o.createElement(hn.C,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},o.createElement(L.a,{display:"flex",textAlign:"center",justifyContent:"left"===i?"flex-start":"center"},o.createElement(Sn.a,{isButton:!0,onClick:g,buttonStyle:d,width:f,redirectUrl:v,id:a},S)))},Fn=i(7580),bn=i(44402),En=i(79429),xn=i(21835),wn=function(){return{flexShrink:0,marginRight:"12px",width:"16px",height:"16px"}},Pn=function(e){var n=e.headerText,i=e.reasonsToUpgrade,t=e.paywall,a=e.postId,l=(0,bn.l)(),d=(0,me.U)(),r="xs"===d||"sm"===d,s=(0,o.useMemo)((function(){var e=(null==t?void 0:t.creatorSpotlights)||[];return r&&e.length>6?e.filter((function(e){return!e.hideOnSmallScreen})):e}),[r,t]),m=(0,o.useMemo)((function(){return["Access all member-only stories on Medium"].concat((0,N.A)(i))}),[i]),c=(0,ze.R)().value,u=(0,Nn.$L)(),k=(0,o.useCallback)((function(){u.event("paywall.presented",{type:t.type,userId:null==c?void 0:c.id})}),[t.type,null==c?void 0:c.id]),p=(0,En.s)({onPresentedFn:k});return o.createElement(fn,{margin:"0 -24px",ref:p},o.createElement(L.a,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},o.createElement(L.a,{display:"flex",flexDirection:"column",padding:{xs:"28px 33px 32px",sm:"28px 33px 32px",md:"32px",lg:"32px",xl:"32px"},marginTop:"32px",textAlign:"center",borderRadius:"4px",maxWidth:"100%"},o.createElement(Qe.mz,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),o.createElement(L.a,{marginTop:"32px"},o.createElement(de.kZ,{scale:"M",color:"DARKER"},"The author made this story available to Medium members only. Upgrade to instantly unlock this story plus other member-only benefits.")),o.createElement(L.a,{margin:"22px auto 34px"},m.map((function(e,n){return o.createElement(L.a,{display:"flex",alignItems:"center",key:"reason-".concat(n),marginTop:"12px",textAlign:"left"},o.createElement(xn.A,{className:l(wn)}),o.createElement(de.kZ,{scale:"M",color:"DARKER"},e))}))),o.createElement(L.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"30px"},s.map((function(e){return o.createElement(L.a,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:r?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},o.createElement(Fn.r,{alt:e.name,miroId:e.miroId,diameter:64}),o.createElement(L.a,{marginTop:"8px",textAlign:"center"},o.createElement(de.kZ,{scale:r?"S":"M",color:"DARKER"},e.name),o.createElement(de.kZ,{scale:"XS"},e.title),e.company&&o.createElement(de.kZ,{scale:"XS"},e.company)))}))),o.createElement(yn,{id:"paywallButton-programming",postId:a,align:"center",buttonStyle:"STRONG"}))))},_n=i(91317),An=["Dive deeper into the topics that matter to you",o.createElement(o.Fragment,null,"Get in-depth articles answering thousands of questions"),"Achieve your personal and professional goals"],Cn=function(e){var n,i=e.paywall,t=e.post,a=(0,ze.R)().value,l=function(e,n){var i=e?(0,_n.E)(e):null;i=i&&i.length<=13?i:null;var t=n?" from ".concat(n):"";return i?"".concat(i,", read this story").concat(t," — and all the best stories on Medium."):"Read this story".concat(t," — and all the best stories on Medium.")}(null==a?void 0:a.name,null===(n=t.creator)||void 0===n?void 0:n.name);return o.createElement(Pn,{headerText:l,reasonsToUpgrade:An,paywall:i,postId:t.id})},Tn=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},Dn=function(e){var n,i,t=e.paywall,a=e.post,l=(0,ze.R)().value,d=null!==(n=null===(i=a.primaryTopic)||void 0===i?void 0:i.slug)&&void 0!==n?n:null,r=function(e,n){var i=e?(0,_n.E)(e):null;if(i=i&&i.length<=13?i:null,n){var t=Tn(n);return i?"".concat(i,", read the best stories about ").concat(t," from industry leaders on Medium."):"Read the best stories about ".concat(t," from industry leaders on Medium.")}return i?"".concat(i,", read the best stories from industry leaders on Medium."):"Read the best stories from industry leaders on Medium."}(null==l?void 0:l.name,d),s=(0,o.useMemo)((function(){return function(e){var n=e?Tn(e):"technical";return["Become an expert in your areas of interest","Get in-depth answers to thousands of questions about ".concat(n),"Grow your career or build a new one"]}(d)}),[d]);return o.createElement(Pn,{headerText:r,reasonsToUpgrade:s,paywall:t,postId:a.id})},In=i(47517),Rn=[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorSpotlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"company"}},{kind:"Field",name:{kind:"Name",value:"miroId"}},{kind:"Field",name:{kind:"Name",value:"hideOnSmallScreen"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}],On={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,N.A)(Rn))},Ln={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,N.A)(Rn))},Mn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Paywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_post"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]))},Bn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Paywall"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paywall"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_paywall"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_paywall"}}]}}]}}]}}]}}].concat((0,N.A)(On.definitions),(0,N.A)(Ln.definitions))},Vn=function(e){var n,i=e.post,t=(0,ze.R)().value,l=(0,Nn.$L)();(0,o.useEffect)((function(){l.event("paywall.viewed",{userId:null==t?void 0:t.id})}),[]);var d=(0,a.I)(Bn,{ssr:!1,variables:{postId:i.id}}),r=d.data,s=d.error,m=d.loading;(0,o.useEffect)((function(){s&&In.v.error({error:s},"Paywall query error")}),[s]);var c=(0,o.useState)(!1),u=(0,Ve.A)(c,2),k=u[0],p=u[1],v=(0,o.useCallback)((function(e,n){k||(p(!0),In.v.error(e,n))}),[k]),g=null==r||null===(n=r.post)||void 0===n?void 0:n.viewerEdge.paywall;if(s||m||!g)return null;switch(g.type){case Xe.nQ.PROGRAMMING:return o.createElement(A.P,{size:"app"},o.createElement(Dn,{paywall:g,post:i}));case Xe.nQ.ASPIRATIONAL:return o.createElement(A.P,{size:"app"},o.createElement(Cn,{paywall:g,post:i}));default:return v({paywall:g},"Unknown paywall type"),null}},jn=i(60301),Un=i(43634),zn=i(79197),Wn=i(28263),Gn=i(4765),Zn=i(71336),Hn=i(88909),qn=i(67033),Yn=function(e){var n=e.postId,i=e.susiEntry,t="register",a={operation:t,postId:n},l=(0,Wn.C)().openModal;return o.createElement(L.a,{display:"flex",flexDirection:"column",textAlign:"center",margin:{xs:"32px 0",sm:"32px 0",md:"64px 0",lg:"64px 0",xl:"64px"}},o.createElement(qn.b,{eventData:a},o.createElement(Hn.s,{operation:t})),o.createElement(L.a,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(qn.b,{eventData:a},o.createElement(Zn.N,{operation:t}))),o.createElement(L.a,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(qn.b,{eventData:a},o.createElement(Gn.P,{goToEmailAuthStep:function(){l({step:"ENTER_EMAIL",susiEntry:i,operation:t})},operation:t}))))},Qn="post_regwall",Kn=function(e){var n=e.post,i=(0,Nn.$L)(),t="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a=(0,k.d4)((function(e){return e.navigation.susiEmail})),l=(0,Wn.C)().susiModalConfig.operation;(0,o.useEffect)((function(){i.event("meter.viewed",{meterCount:0,postId:n.id,uiType:t?zn.H.SyndicatedRegwall:zn.H.RegWall})}),[]);var d=(0,o.useCallback)((function(){i.event("regwall.presented",{})}),[]),r=(0,En.s)({onPresentedFn:d});return o.createElement(C.Ne,{source:{postId:n.id,susiEntry:Qn}},o.createElement(fn,{margin:"0px",ref:r},o.createElement(L.a,{display:"flex",textAlign:"center",justifyContent:"center",flexDirection:"column"},o.createElement(L.a,{padding:{xs:"28px 0 48px",sm:"28px 0 48px",md:"56px",lg:"56px",xl:"56px"}},o.createElement(Qe.mz,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a?"Check your inbox.":o.createElement(L.a,null,"Create an account to read the full story.")),o.createElement(de.kZ,{color:"DARKER",scale:"M",tag:"div"},a?o.createElement(o.Fragment,null,o.createElement(L.a,{paddingTop:"12px",paddingBottom:"56px"},"login"===l?"There is an existing account associated with ".concat(a,", and we have just sent a link you can use to sign in."):"Click the link we sent to ".concat(a," to complete your account setup and\n                    continue reading this story.")),o.createElement(de.kZ,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",o.createElement(Un.r,{linkStyle:"OBVIOUS",operation:"register",post:n,susiEntry:Qn},"Try again"))):o.createElement(de.kZ,{color:"DARKER",scale:"L"},o.createElement(L.a,{margin:"32px 0 0"},o.createElement(de.kZ,{color:"DARKER",scale:"M"},"The author made this story available to Medium members only.",o.createElement("br",null),"If you’re new to Medium, create a new account to read this story on us.")),o.createElement(de.kZ,{color:"DARKER",scale:"M"},o.createElement(L.a,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},o.createElement(L.a,{margin:"32px 0"},o.createElement(jn.z,{isButton:!0,buttonSize:"REGULAR",postId:n.id,appEntry:"regwall",copy:"Continue in app"})),o.createElement(L.a,null,"Or, continue in mobile web"))),o.createElement(Yn,{postId:n.id,susiEntry:Qn}),"Already have an account?"," ",o.createElement(Un.r,{linkStyle:"OBVIOUS",inline:!0,operation:"login",post:n,susiEntry:Qn},"Sign in")))))))},Xn=function(e){var n=e.post,i=n.id,t=n.content.isLockedPreviewOnly,a=(0,ze.R)(),l=a.value,d=a.loading,r=!!l;if(!_(i,t).loading&&t){if(r)return o.createElement(Vn,{post:n});if(!d)return o.createElement(A.P,{size:"app"},o.createElement(Kn,{post:n}))}return null},$n=i(95420),Jn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCollaboratorMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCollaborator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},ei=i(39586),ni=i(27394),ii=i(80545),ti=i(55364),ai=i.n(ti),oi=i(3459),li=i.n(oi),di=i(30758),ri=i(90383),si=i(59162);function mi(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function ci(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?mi(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mi(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ui=(0,Ue.Ng)((function(e){var n=e.config,i=n.productName,t=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:i,defaultImages:t,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,i=e.host,t=e.post,a=e.postDescription,l=e.productName,d=e.defaultImages,r=e.collectionStructuredData,s=t.collection,m=t.creator,c=t.id,u=t.mediumUrl,k=t.isLocked,v=t.previewImage,g=t.firstPublishedAt,f=t.updatedAt,S=(0,si._y)(t,l),N={id:d.postLogo.imageId,originalWidth:d.postLogo.width,originalHeight:d.postLogo.height},h={id:d.orgLogo.imageId,originalWidth:d.orgLogo.width,originalHeight:d.orgLogo.height},y=s?{"@type":"Organization",name:s.name,url:s.domain||(0,p.jp)(i,(0,T.eBL)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,di.YT)(h);var n=(0,di.YT)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,di.YT)(h)}(s)}:{"@type":"Organization",name:l,url:(0,p.jp)(i,"/"),logo:(0,di.YT)(h)};s&&r&&r[s.id]&&ai()(y,r[s.id].data);var F=v&&v.id?(0,di.Yq)(ci(ci({},v),{},{miroId:v.id,croppedWidth:1200})):(0,di.Cj)({url:(0,ri.rP)({miroId:N.id,width:N.originalWidth}),height:N.originalHeight,width:N.originalWidth}),b=a||"",E=k?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},x=ci({"@type":"NewsArticle",image:F,url:u,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:f&&new Date(f).toISOString(),headline:S,name:S,description:b,identifier:c,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,T.EpC)(m,i)}:null,creator:m&&[m.name],publisher:y,mainEntityOfPage:u},E),w=ci(ci({},{"@context":"http://schema.org"}),x);return o.createElement(ii.mg,null,o.createElement("script",{type:"application/ld+json"},li()(w,{isJSON:!0})))})),ki=i(27715),pi=i(7897);function vi(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function gi(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?vi(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vi(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var fi=(0,Ue.Ng)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,i,t,a,l=e.authDomain,d=e.productName,r=e.post,s=r.canonicalUrl,m=r.collection,c=r.creator,u=r.id,k=r.latestPublishedAt,p=r.mediumUrl,v=r.previewContent,g=r.socialTitle,f=r.socialDek,S=r.visibility,N=r.isShortform,h="UNLISTED"===S,y=!r.firstPublishedAt,F=null==c?void 0:c.name,b=(0,si.Hg)(r),E=r.title||"",x=b.latestTitle||E;if(N){var w=gi(gi({},r),{},{title:x});t=(0,si.T7)(w,d,b.hasTitleGraf).trim(),a=(0,pi.a)(r,b.hasTitleGraf)}else t=(0,si._y)(r,d,b,!0).trim(),a=(0,pi._)(r);var P,_,A,C=f||(null==v?void 0:v.subtitle)||a;if(null!=r&&null!==(n=r.previewImage)&&void 0!==n&&n.id&&!r.isLimitedState){var D=r.previewImage;P=(0,ri.As)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY}),r.previewImage.alt&&(_=r.previewImage.alt)}else if(r.isLimitedState){var I={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};P=(0,ri.As)({miroId:I.id,aspectRatio:1.9,croppedWidth:I.originalWidth?Math.min(I.originalWidth,1200):1200,originalWidth:I.originalWidth,originalHeight:I.originalHeight,focusPercentX:I.focusPercentX,focusPercentY:I.focusPercentY}),_="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=c&&c.username&&(A=(0,T.EpC)(c,l));var R=(0,T.Pu1)(u),O=!(null!==(i=(0,si.ek)(r))&&void 0!==i&&i.shouldIndexPost),L=k&&new Date(k).toISOString(),M=(0,ki.M8)(r.readingTime||0),B=null==c?void 0:c.twitterScreenName,V=(null==m?void 0:m.twitterUsername)||"Medium",j=null==m?void 0:m.facebookPageId,U=g||E||x;r.isLimitedState&&(U="");var z=r.isLimitedState?"":C,W=(0,o.useMemo)((function(){var e;return o.createElement(ii.mg,null,o.createElement("meta",{property:"og:type",content:"article"}),L&&o.createElement("meta",{property:"article:published_time",content:L}),o.createElement("title",null,t),o.createElement("meta",{name:"title",content:t}),o.createElement("meta",{property:"og:title",content:U}),j&&o.createElement("meta",{property:"fb:pages",content:j}),o.createElement("meta",{property:"al:android:url",content:R}),o.createElement("meta",{property:"al:ios:url",content:R}),o.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&o.createElement("meta",{name:"description",content:a}),C&&o.createElement("meta",{property:"og:description",content:z}),o.createElement("meta",{property:"og:url",content:null!=p?p:void 0}),o.createElement("meta",{property:"al:web:url",content:null!=p?p:void 0}),P&&o.createElement("meta",{property:"og:image",content:P}),_&&o.createElement("meta",{property:"og:image:alt",content:_}),A&&o.createElement("meta",{property:"article:author",content:A}),A&&o.createElement("link",{rel:"author",href:A}),F&&o.createElement("meta",{name:"author",content:F}),o.createElement("link",{rel:"canonical",href:null!==(e=s||p)&&void 0!==e?e:void 0}),o.createElement("link",{rel:"alternate",href:(0,T.pNp)((0,T.KI2)("medium.com",r.id))}),o.createElement("meta",{name:"robots",content:"".concat(O?"noindex":"index",",noarchive,follow,max-image-preview:large")}),o.createElement("meta",{name:"referrer",content:h||y?"origin":"unsafe-url"}),o.createElement("meta",{property:"twitter:title",content:U}),o.createElement("meta",{name:"twitter:site",content:"@".concat(V)}),o.createElement("meta",{name:"twitter:app:url:iphone",content:R}),C&&o.createElement("meta",{property:"twitter:description",content:z}),P&&o.createElement("meta",{name:"twitter:image:src",content:P}),_&&o.createElement("meta",{name:"twitter:image:alt",content:_}),o.createElement("meta",{name:"twitter:card",content:P?"summary_large_image":"summary"}),B&&o.createElement("meta",{name:"twitter:creator",content:"@".concat(B)}),o.createElement("meta",{name:"twitter:label1",content:"Reading time"}),o.createElement("meta",{name:"twitter:data1",content:"".concat(M," min read")}))}),[t,s,p,P,_,u,g,a,A,F,B,R,O,k,L]);return o.createElement(o.Fragment,null,W,o.createElement(ui,{post:r,postDescription:a}))})),Si=i(43030),Ni=i(36826),hi=i(96783),yi=i(46696),Fi=i(57975),bi=i(62262),Ei=i(26311),xi=i(23406),wi=function(e){var n,i=e.post,t=e.socialPopoverPosition,a=void 0===t?"beginning":t,l=o.useContext(xi.u).openSidebar,d=!!(0,ze.R)().value,r=i.creator,s="clap_footer",m={post:i,source:"post_actions_footer"},c=(null==i||null===(n=i.postResponses)||void 0===n?void 0:n.count)||null;return o.createElement(C.Ne,{source:{dimension:"footer_actions"},extendSource:!0},o.createElement(L.a,{display:"flex",justifyContent:"space-between",print:{display:"none"}},o.createElement(L.a,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(L.a,{maxWidth:"155px"},o.createElement(bi.U,null,o.createElement(Fi.W,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"})),o.createElement(bi.F,null,o.createElement(Fi.W,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"}))),o.createElement(C.Ne,{source:{susiEntry:"follow_footer"},extendSource:!0},o.createElement(L.a,{display:"flex",marginLeft:"24px"},o.createElement(Ei._,{trackingData:{postId:i.id},responsesCount:c,allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:l,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},testId:"footerResponseButton"})))),o.createElement(L.a,{display:"flex",alignItems:"center"},"beginning"===a&&o.createElement(yi.b,m),o.createElement(L.a,{flexGrow:"0",marginLeft:"beginning"===a?"20px":void 0,marginRight:"20px"},o.createElement(hi.T,{post:i,susiEntry:"bookmark_footer",testId:"footerBookmarkButton"})),"end"===a&&o.createElement(L.a,{flexGrow:"0",marginRight:"20px"},o.createElement(yi.b,(0,je.A)({},m,{testId:"footerSocialShareButton"}))),i&&r&&d&&o.createElement(Ni.G,{post:i,testId:"footerStoryOptionsButton"}))))},Pi=i(57426),_i=i(5600),Ai=i(95320),Ci=i(32010),Ti=i(71003),Di=i(49753),Ii=i(10103),Ri=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function Oi(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Mi(e,"title")," license by the author.")}}var Li={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function Mi(e,n){return Li[e][n]}var Bi,Vi,ji=function(e){var n=e.license,i=(0,bn.l)();return n?o.createElement(L.a,{display:"inline"},o.createElement(L.a,{display:"inline-block"},o.createElement(de.kZ,{scale:"M"},o.createElement(_i.G,{tooltipText:Oi(n),maxWidth:300},o.createElement(le.N,{disableSourceParam:!0,href:Mi(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),o.createElement(L.a,{display:"inline-block"},o.createElement(de.kZ,{scale:"M"},"CC_40_ZERO"===n&&o.createElement("span",null," by the author."),o.createElement("span",{className:i(Ri),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:o.createElement(Ii.A,null),CC_40_BY:o.createElement(Ai.A,null),CC_40_BY_ND:o.createElement(o.Fragment,null,o.createElement(Ai.A,null),o.createElement(Ti.A,null)),CC_40_BY_SA:o.createElement(o.Fragment,null,o.createElement(Ai.A,null),o.createElement(Di.A,null)),CC_40_BY_NC:o.createElement(o.Fragment,null,o.createElement(Ai.A,null),o.createElement(Ci.A,null)),CC_40_BY_NC_ND:o.createElement(o.Fragment,null,o.createElement(Ai.A,null),o.createElement(Ci.A,null),o.createElement(Ti.A,null)),CC_40_BY_NC_SA:o.createElement(o.Fragment,null,o.createElement(Ai.A,null),o.createElement(Ci.A,null),o.createElement(Di.A,null)),PUBLIC_DOMAIN:o.createElement(o.Fragment,null)}[e]}(n))))):null},Ui=i(16635),zi=function(e){var n=e.post,i=e.marginBottom,t=(null==n?void 0:n.tags)||[];return t.length?o.createElement(L.a,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:i},t.map((function(e){return o.createElement(L.a,{display:"flex",marginTop:"8px",key:e.id},o.createElement(Pi.v,{topic:e}))}))):null},Wi=function(){return o.createElement(L.a,{padding:"0 8px",display:"inline"},o.createElement(ge.d,{display:"inline",scale:"M"}))},Gi=function(e){var n,i=e.post,t=i.visibility,a=i.license,l="UNLISTED"===t,d=!(!a||"ALL_RIGHTS_RESERVED"===a),r=!(null===(n=i.tags)||void 0===n||!n.length),s=l||d;return r||s?o.createElement(A.P,{size:"app"},o.createElement(zi,{post:i,marginBottom:s?"40px":"26px"}),s&&o.createElement(L.a,{marginTop:r?"0px":"12px",marginBottom:"26px"},l&&o.createElement(L.a,{display:"inline"},o.createElement(de.kZ,{scale:"M",tag:"span"},o.createElement(Ui.A,null)," Unlisted")),l&&d&&o.createElement(Wi,null),d&&o.createElement(ji,{license:a}))):null},Zi=i(49912),Hi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topicId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"topicId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"}}]}}]}}]}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]))},qi=i(21335),Yi=i(66973),Qi="post-view",Ki="post-read",Xi="topic-view",$i="medium-search",Ji="external-search",et=(Bi={},(0,t.A)(Bi,Qi,200),(0,t.A)(Bi,Ki,200),(0,t.A)(Bi,Xi,200),(0,t.A)(Bi,$i,200),(0,t.A)(Bi,Ji,200),Bi),nt=(Vi={},(0,t.A)(Vi,Qi,new Yi.A("pv")),(0,t.A)(Vi,Ki,new Yi.A("pr")),(0,t.A)(Vi,Xi,new Yi.A("tv")),(0,t.A)(Vi,$i,new Yi.A("ms")),(0,t.A)(Vi,Ji,new Yi.A("es")),Vi),it=function(e,n,i){var t=nt[e];t.getCount()===et[e]&&t.clean();try{t.set(n,i)}catch(e){t.clean()}},tt=i(2550),at=i(65138),ot=i(78968),lt=i(11517),dt=i(24023),rt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]},st=i(53259),mt=i.n(st),ct=i(31905),ut=mt()({loading:function(){return null},loader:function(){return Promise.all([i.e(8414),i.e(3974),i.e(2527),i.e(2886)]).then(i.bind(i,86444))},modules:["./PostResponsesContent"],webpack:function(){return[86444]},render:(0,ct.X)("PostResponsesContent")});function kt(e){var n=e.post;return!n.isLimitedState&&n.isPublished&&n.allowResponses?o.createElement(C.Ne,{source:{dimension:"post_responses"},extendSource:!0},o.createElement(ut,{post:n})):null}var pt=i(21874),vt=i(658),gt=i(79756),ft=i(82284),St=i(80045),Nt=i(10467),ht=i(77969),yt=i(91052),Ft=i(84274),bt=i(19228),Et=i(51387),xt=["__typename"],wt=["__typename"];function Pt(){Pt=function(){return n};var e,n={},i=Object.prototype,t=i.hasOwnProperty,a=Object.defineProperty||function(e,n,i){e[n]=i.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function s(e,n,i){return Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,i){return e[n]=i}}function m(e,n,i,t){var o=n&&n.prototype instanceof f?n:f,l=Object.create(o.prototype),d=new C(t||[]);return a(l,"_invoke",{value:w(e,i,d)}),l}function c(e,n,i){try{return{type:"normal",arg:e.call(n,i)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var u="suspendedStart",k="suspendedYield",p="executing",v="completed",g={};function f(){}function S(){}function N(){}var h={};s(h,l,(function(){return this}));var y=Object.getPrototypeOf,F=y&&y(y(T([])));F&&F!==i&&t.call(F,l)&&(h=F);var b=N.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function x(e,n){function i(a,o,l,d){var r=c(e[a],e,o);if("throw"!==r.type){var s=r.arg,m=s.value;return m&&"object"==(0,ft.A)(m)&&t.call(m,"__await")?n.resolve(m.__await).then((function(e){i("next",e,l,d)}),(function(e){i("throw",e,l,d)})):n.resolve(m).then((function(e){s.value=e,l(s)}),(function(e){return i("throw",e,l,d)}))}d(r.arg)}var o;a(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){i(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function w(n,i,t){var a=u;return function(o,l){if(a===p)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:e,done:!0}}for(t.method=o,t.arg=l;;){var d=t.delegate;if(d){var r=P(d,t);if(r){if(r===g)continue;return r}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===u)throw a=v,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var s=c(n,i,t);if("normal"===s.type){if(a=t.done?v:k,s.arg===g)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(a=v,t.method="throw",t.arg=s.arg)}}}function P(n,i){var t=i.method,a=n.iterator[t];if(a===e)return i.delegate=null,"throw"===t&&n.iterator.return&&(i.method="return",i.arg=e,P(n,i),"throw"===i.method)||"return"!==t&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+t+"' method")),g;var o=c(a,n.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,g;var l=o.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):l:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function A(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(n){if(n||""===n){var i=n[l];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function i(){for(;++a<n.length;)if(t.call(n,a))return i.value=n[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError((0,ft.A)(n)+" is not iterable")}return S.prototype=N,a(b,"constructor",{value:N,configurable:!0}),a(N,"constructor",{value:S,configurable:!0}),S.displayName=s(N,r,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,s(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},E(x.prototype),s(x.prototype,d,(function(){return this})),n.AsyncIterator=x,n.async=function(e,i,t,a,o){void 0===o&&(o=Promise);var l=new x(m(e,i,t,a),o);return n.isGeneratorFunction(i)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},E(b),s(b,r,"Generator"),s(b,l,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),i=[];for(var t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=T,C.prototype={constructor:C,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!n)for(var i in this)"t"===i.charAt(0)&&t.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function a(t,a){return d.type="throw",d.arg=n,i.next=t,a&&(i.method="next",i.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],d=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var r=t.call(l,"catchLoc"),s=t.call(l,"finallyLoc");if(r&&s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(r){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===e){var t=i.completion;if("throw"===t.type){var a=t.arg;A(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,i,t){return this.delegate={iterator:T(n),resultName:i,nextLoc:t},"next"===this.method&&(this.arg=e),g}},n}var _t,At,Ct,Tt,Dt=mt()({loading:function(){return null},loader:function(){return Promise.all([i.e(8414),i.e(6244),i.e(3974),i.e(2527),i.e(3570),i.e(8247)]).then(i.bind(i,81809))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[81809]},render:(0,ct.X)("ThreadedResponsesSidebarContent")}),It=function(e){var n,i,t,a,l,d,r,s,m,c,u,k=e.isResponsesSidebarVisible,p=e.inResponseToQuote,v=e.setInResponseToQuote,g=e.parentPost,f=e.continueThisThreadPost,S=e.continueThisThreadPostDepth,N=e.showPreviousSidebar,h=e.cleanupSidebar,y=e.initialSidebarRender,F=e.responsesSort,b=F?Xe.CD[F]:void 0,E=(0,o.useState)(b||Xe.CD.TOP),x=(0,Ve.A)(E,2),w=x[0],P=x[1],_=(0,o.useState)(!1),A=(0,Ve.A)(_,2),T=A[0],D=A[1],I=(0,o.useRef)(null),R=(0,ht._)(yt.i),O=(0,Ve.A)(R,2),L=O[0],M=O[1],B=M.called,V=M.loading,j=M.data,U=(0,ht._)(Et.t,{variables:{postId:g.id,postResponsesPaging:{limit:gt.TC},sortType:w},ssr:!1}),z=(0,Ve.A)(U,2),W=z[0],G=z[1],Z=G.called,H=G.loading,q=G.data,Y=G.fetchMore;Z||f||!k||(W(),B||L(),Dt.preload());var Q=null==q||null===(n=q.post)||void 0===n?void 0:n.responsesLocked,K=null==q||null===(i=q.post)||void 0===i?void 0:i.isLockedResponse,X=(0,gt.J6)(k,y,null==q||null===(t=q.post)||void 0===t?void 0:t.threadedPostResponses,f),$=X.responses,J=X.showCreateReplyEditor,ee=(null==q||null===(a=q.post)||void 0===a||null===(l=a.responseRootPost)||void 0===l||null===(d=l.post)||void 0===d?void 0:d.id)||"",ne=S||(null==q||null===(r=q.post)||void 0===r||null===(s=r.responseRootPost)||void 0===s?void 0:s.responseDepth)||0,ie=void 0,te=null==$||null===(m=$.pagingInfo)||void 0===m?void 0:m.next;te&&!f&&(ie=function(){var e=(0,Nt.A)(Pt().mark((function e(){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=5;break}return te.__typename,n=(0,St.A)(te,xt),e.next=4,Y({variables:{postId:g.id,postResponsesPaging:n}});case 4:D(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());var ae=(0,o.useContext)(xi.u).scrollToPostId;return(0,o.useEffect)((function(){var e,n,i;if(ae)if(!te||null!=q&&null!==(e=q.post)&&void 0!==e&&null!==(n=e.threadedPostResponses)&&void 0!==n&&null!==(i=n.posts)&&void 0!==i&&i.find((function(e){return e.id===ae})))D(!1);else{D(!0),te.__typename;var t=(0,St.A)(te,wt);Y({variables:{postId:g.id,postResponsesPaging:t}})}}),[Y,te,ae,null==q||null===(c=q.post)||void 0===c||null===(u=c.threadedPostResponses)||void 0===u?void 0:u.posts,g.id]),o.createElement(bt.Cq,null,o.createElement(C.Ne,{source:{name:"responses",postId:g.id},extendSource:!0},o.createElement(Ft.p,{sidebarRef:I,cleanupSidebar:h,isResponsesSidebarVisible:k,pagingInfoNext:te,isFetchingNextSetOfResponses:T,setIsFetching:D,fetchMoreWithArguments:ie,initialSidebarRender:y},(function(e){var n,i=e.responseDistribution,t=e.setResponseDistribution,a=e.closeSidebar;return Z||f?o.createElement(Dt,{responses:$,parentPost:g,responsesLocked:Q,isLockedResponse:K,isLoadingInitialContent:H||V,isFetchingNextSetOfResponses:T,isResponsesSidebarVisible:k,closeSidebar:a,showPreviousSidebar:N,inResponseToQuote:p,setInResponseToQuote:v,sidebarRef:I,responseDistribution:i,setResponseDistribution:t,responseSortType:w,setResponseSortType:P,rootPostId:ee,postDepth:ne,isContinueThisThread:!!f,showCreateReplyEditor:J,viewerPronouns:null!==(n=null==j?void 0:j.viewer)&&void 0!==n?n:void 0,hideBackArrow:y}):null}))))},Rt=function(e){var n=e.children,i=e.post,t=(0,o.useState)(void 0),a=(0,Ve.A)(t,2),l=a[0],d=a[1],r=(0,o.useCallback)((function(e){return function(n){d(n),e()}}),[]);return o.createElement(vt.i,null,(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,s=e.initialSidebarRender,m=e.isVisible,c=e.continueThisThreadPosts,u=e.openSidebar,k=e.cleanupSidebar,p=e.responseSortOption;return o.createElement(pt.h.Provider,{value:{openSidebarToRespondToHighlight:r(u)}},!!i&&a&&o.createElement(It,{isResponsesSidebarVisible:m&&0===c.length,parentPost:i,inResponseToQuote:l,setInResponseToQuote:d,showPreviousSidebar:t,cleanupSidebar:k,initialSidebarRender:!!s.current,responsesSort:p}),!!i&&a&&c.map((function(e,n,a){var r=(0,gt.G$)(n);return o.createElement(It,{key:i.id,isResponsesSidebarVisible:m&&n===a.length-1,parentPost:i,inResponseToQuote:l,setInResponseToQuote:d,continueThisThreadPost:e,continueThisThreadPostDepth:r,showPreviousSidebar:t,cleanupSidebar:k,initialSidebarRender:!!s.current,responsesSort:p})})),n)}))},Ot=i(75636),Lt=i(85864),Mt=i(24960);function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)({}).hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},Bt.apply(null,arguments)}const Vt=function(e){return o.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",width:49,height:57,fill:"none",viewBox:"0 0 49 57"},e),_t||(_t=o.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"})),At||(At=o.createElement("path",{fill:"#757575",d:"m45.95 17.534-.002-.04c-.022-.478-.036-.985-.045-1.55-.041-2.75-2.255-5.024-5.04-5.178-5.805-.32-10.296-2.19-14.134-5.885l-.032-.03a3.26 3.26 0 0 0-4.392 0l-.033.03c-3.838 3.695-8.329 5.565-14.135 5.885-2.784.154-4.998 2.429-5.039 5.18-.008.56-.023 1.066-.045 1.549l-.003.09c-.112 5.848-.253 13.126 2.212 19.732 1.356 3.633 3.408 6.79 6.1 9.386 3.067 2.957 7.084 5.304 11.939 6.976a3.7 3.7 0 0 0 1.2.201 3.7 3.7 0 0 0 1.201-.202c4.85-1.675 8.862-4.023 11.926-6.979 2.691-2.597 4.744-5.755 6.1-9.389 2.474-6.626 2.334-13.917 2.222-19.776m-5.002 18.764c-2.6 6.962-7.906 11.744-16.224 14.617a.671.671 0 0 1-.448 0c-8.325-2.868-13.636-7.647-16.233-14.61-2.272-6.089-2.144-12.77-2.03-18.664v-.033a52 52 0 0 0 .048-1.62c.018-1.22 1.003-2.231 2.242-2.3 3.285-.18 6.171-.808 8.823-1.917 2.649-1.107 5.001-2.668 7.191-4.772a.276.276 0 0 1 .367 0c2.19 2.104 4.543 3.665 7.19 4.772 2.653 1.11 5.54 1.736 8.825 1.918 1.239.068 2.223 1.078 2.241 2.3.01.586.025 1.116.048 1.62.113 5.9.239 12.586-2.04 18.689"})),Ct||(Ct=o.createElement("path",{fill:"#757575",d:"M24.501 17.762c-7.113 0-12.9 5.4-12.9 12.04 0 6.638 5.787 12.04 12.9 12.04s12.9-5.402 12.9-12.04c0-6.64-5.787-12.04-12.9-12.04m0 21.244c-5.438 0-9.863-4.129-9.863-9.205 0-5.075 4.425-9.205 9.863-9.205s9.862 4.13 9.862 9.205-4.424 9.205-9.862 9.205"})),Tt||(Tt=o.createElement("path",{fill:"#757575",d:"m28.077 25.098-5.635 6.12-1.53-1.66a1.35 1.35 0 0 0-2.02 0 1.65 1.65 0 0 0 0 2.193l2.54 2.758c.28.303.645.454 1.01.454.366 0 .731-.15 1.01-.454l6.645-7.217a1.65 1.65 0 0 0 0-2.194 1.35 1.35 0 0 0-2.02 0"})))};var jt=(0,Ue.Ng)()((function(e){var n=e.dispatch,i=e.isVisible,t=e.hide,a="limitedStateInterstitialDialogPopover";return o.createElement(qe.l,{isVisible:i,hide:t,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},o.createElement(L.a,{display:"flex",justifyContent:"center",paddingTop:"100px"},o.createElement(L.a,{height:"550px",width:"900px",background:Je.ON,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,Je.qy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},o.createElement(L.a,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},o.createElement(L.a,{paddingBottom:"24px"},o.createElement(Vt,null)),o.createElement(L.a,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},o.createElement(B.DZ,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),o.createElement(L.a,{padding:"0 0 24px 0"},o.createElement(He.$n,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){t(),n((0,$e.MZ)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),o.createElement(Lt.B,null,(function(e){var n=e.isVisible,i=e.toggle,t=e.hide;return o.createElement(Mt.A,{ariaId:a,isVisible:n,hide:t,display:"block",customZIndex:800,popoverRenderFn:function(){return o.createElement(L.a,{padding:"15px 20px",width:"400px"},o.createElement(de.kZ,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},o.createElement(L.a,{paddingTop:"10px"},o.createElement(le.N,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:i},o.createElement("u",null,o.createElement(de.kZ,{scale:"S"},"Why am I seeing this?")))))})))),o.createElement(L.a,{display:"flex",justifyContent:"center"},o.createElement(de.kZ,{scale:"M"},"View our"," ",o.createElement(le.N,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",o.createElement(le.N,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",o.createElement(le.N,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),Ut=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function zt(e){var n=e.post,i=n.creator,t=n.isLimitedState,a=e.children,l=(0,ze.R)().value,d=null==l?void 0:l.id,r=(0,bn.l)(),s=o.useState(!1),m=(0,Ve.A)(s,2),c=m[0],u=m[1];return o.useEffect((function(){u(!0)}),[]),t&&(i&&i.id)!==d?o.createElement(Lt.B,{initialVisibility:!0},(function(e){var n=e.isVisible,i=e.hide;return o.createElement(o.Fragment,null,o.createElement("div",{className:r(Ut(n))},a),c&&o.createElement(jt,{isVisible:n,hide:i}))})):a}var Wt=i(37075),Gt=i(65364),Zt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSocialLoginsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSocialLogins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"}}]}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserSocialLogins"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"twitter"}},{kind:"Field",name:{kind:"Name",value:"facebook"}},{kind:"Field",name:{kind:"Name",value:"google"}},{kind:"Field",name:{kind:"Name",value:"redactedEmailAddress"}},{kind:"Field",name:{kind:"Name",value:"isMember"}},{kind:"Field",name:{kind:"Name",value:"emailAddress"}},{kind:"Field",name:{kind:"Name",value:"userAvatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}}]}}]}}]))};function Ht(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function qt(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ht(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ht(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Yt=function(e){var n=e.children,i=e.postRenderCallback,t=(0,Nn.$L)(),a=(0,C.Zj)(),l=(0,u.MW)(),d=(0,C.PJ)(l||""),r=d.userId,s=d.name,m=o.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),c=(0,Ve.A)(m,2),k=c[0],p=c[1];o.useEffect((function(){var e=k.shouldRun,n=k.showSuggestedAccount,t=k.userSocialLogins;e&&(null==i||i(v,n,t))}),[k.shouldRun]);var v=(0,ze.R)().value,g=!("email"!==s||v&&v.membership||!r);return g&&r?o.createElement(Gt.X,{query:Zt,variables:{userId:r}},(function(e){var o=e.loading,l=e.error,d=e.data,r=(d=void 0===d?{}:d).userSocialLogins,s=!(o||l||!r||v&&!r.isMember||!r.facebook&&!r.google&&!r.twitter&&!r.redactedEmailAddress),m=qt({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:r,declineSuggestedAccount:function(){var e=(0,_n.g)(r);t.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e})}});return!i||o||k.shouldRun||p({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:r}),(null==n?void 0:n(m))||null})):(i&&!k.shouldRun&&p(qt(qt({},k),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:g,loading:!1}))||null)},Qt=i(90384),Kt=i(25548),Xt=function(){var e=(0,Ue.wA)(),n=(0,$e.zF)(),i=(0,o.useState)("loading"),t=(0,Ve.A)(i,2),a=t[0],l=t[1],d=(0,o.useCallback)((function(i,t,a){l(t?"rendered":"not_eligible"),t&&(e((0,Qt.J)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,o.useEffect)((function(){e((0,Kt.j)(!0))}),[]),(0,o.useEffect)((function(){"not_eligible"===a&&e((0,Kt.j)(!1))}),[a]),o.createElement(Yt,{postRenderCallback:d})},$t=i(42600);function Jt(){Jt=function(){return n};var e,n={},i=Object.prototype,t=i.hasOwnProperty,a=Object.defineProperty||function(e,n,i){e[n]=i.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function s(e,n,i){return Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,i){return e[n]=i}}function m(e,n,i,t){var o=n&&n.prototype instanceof f?n:f,l=Object.create(o.prototype),d=new C(t||[]);return a(l,"_invoke",{value:w(e,i,d)}),l}function c(e,n,i){try{return{type:"normal",arg:e.call(n,i)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var u="suspendedStart",k="suspendedYield",p="executing",v="completed",g={};function f(){}function S(){}function N(){}var h={};s(h,l,(function(){return this}));var y=Object.getPrototypeOf,F=y&&y(y(T([])));F&&F!==i&&t.call(F,l)&&(h=F);var b=N.prototype=f.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function x(e,n){function i(a,o,l,d){var r=c(e[a],e,o);if("throw"!==r.type){var s=r.arg,m=s.value;return m&&"object"==(0,ft.A)(m)&&t.call(m,"__await")?n.resolve(m.__await).then((function(e){i("next",e,l,d)}),(function(e){i("throw",e,l,d)})):n.resolve(m).then((function(e){s.value=e,l(s)}),(function(e){return i("throw",e,l,d)}))}d(r.arg)}var o;a(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){i(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function w(n,i,t){var a=u;return function(o,l){if(a===p)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:e,done:!0}}for(t.method=o,t.arg=l;;){var d=t.delegate;if(d){var r=P(d,t);if(r){if(r===g)continue;return r}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===u)throw a=v,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=p;var s=c(n,i,t);if("normal"===s.type){if(a=t.done?v:k,s.arg===g)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(a=v,t.method="throw",t.arg=s.arg)}}}function P(n,i){var t=i.method,a=n.iterator[t];if(a===e)return i.delegate=null,"throw"===t&&n.iterator.return&&(i.method="return",i.arg=e,P(n,i),"throw"===i.method)||"return"!==t&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+t+"' method")),g;var o=c(a,n.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,g;var l=o.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):l:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function A(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(n){if(n||""===n){var i=n[l];if(i)return i.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function i(){for(;++a<n.length;)if(t.call(n,a))return i.value=n[a],i.done=!1,i;return i.value=e,i.done=!0,i};return o.next=o}}throw new TypeError((0,ft.A)(n)+" is not iterable")}return S.prototype=N,a(b,"constructor",{value:N,configurable:!0}),a(N,"constructor",{value:S,configurable:!0}),S.displayName=s(N,r,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,s(e,r,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},E(x.prototype),s(x.prototype,d,(function(){return this})),n.AsyncIterator=x,n.async=function(e,i,t,a,o){void 0===o&&(o=Promise);var l=new x(m(e,i,t,a),o);return n.isGeneratorFunction(i)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},E(b),s(b,r,"Generator"),s(b,l,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),i=[];for(var t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=T,C.prototype={constructor:C,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!n)for(var i in this)"t"===i.charAt(0)&&t.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function a(t,a){return d.type="throw",d.arg=n,i.next=t,a&&(i.method="next",i.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],d=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var r=t.call(l,"catchLoc"),s=t.call(l,"finallyLoc");if(r&&s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(r){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,n){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===e){var t=i.completion;if("throw"===t.type){var a=t.arg;A(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,i,t){return this.delegate={iterator:T(n),resultName:i,nextLoc:t},"next"===this.method&&(this.arg=e),g}},n}var ea=i(58262),na=i(78723),ia=i(74169);var ta=i(85607),aa=i(53413),oa=i(51260),la=i(85259),da=function(e){var n=e.list,i=(0,Nn.$L)(),t=(0,C.jI)(),a=(0,o.useCallback)((function(){i.event("list.presented",{listId:n.id,source:t})}),[n.id,t]),l=(0,En.s)({onPresentedFn:a});return o.createElement(z.E,{size:{xs:12,sm:12,md:6,lg:6,xl:6},ref:l},o.createElement(la.W,{catalog:n,titleMargin:"4px"}))},ra=function(e){var n=e.lists,i=(0,V.D)();return o.createElement(o.Fragment,null,o.createElement(O.i,{marginBottom:"40px",borderColor:i.colorTokens.border.neutral.tertiary.base}),o.createElement(B.DZ,{scale:"XS"},"Lists"),o.createElement(L.a,{marginTop:"32px"},o.createElement(W.E,{alignItems:"flex-start"},n.map((function(e){return o.createElement(da,{key:e.id,list:e})})))),o.createElement(O.i,{marginTop:{xs:"16px",sm:"16px",md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},borderColor:i.colorTokens.border.neutral.tertiary.base}))},sa=function(e){var n=e.recirc,i=e.postCatalogRecirc,t=(0,V.D)(),a=(0,oa.Nw)("ShowHome",{}),l=null==n?void 0:n.items,d=null==i?void 0:i.catalogs;if(null==l||!l.length)return null;var r=Z(l),s=r.slice(0,2),m=r.slice(2);return o.createElement(A.P,{size:"app"},o.createElement(C.Ne,{source:{dimension:"read_next_recirc"},extendSource:!0},o.createElement(L.a,{paddingTop:"88px",paddingBottom:"40px"},o.createElement(B.DZ,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Recommended from Medium"),o.createElement(L.a,{marginTop:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}},o.createElement(q,{items:s})),null!=d&&d.length?o.createElement(ra,{lists:d}):null,o.createElement(q,{items:m}),o.createElement(O.i,{marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:t.colorTokens.border.neutral.tertiary.base}),o.createElement(Y.r,{href:a},"See more recommendations"))))},ma=i(14500),ca=i(71267),ua=i(65938),ka=i(10974),pa=i(22805),va=i(97078),ga=i(36469),fa=i(88474),Sa=i(26073),Na=i(49341),ha=i(11334),ya=i(56774),Fa=i(40064),ba=i(57066),Ea=i(39),xa=function(e){var n,i,t=e.collection,a=e.currentPostId,l=(0,pe.g)(),d=null===(n=t.latestPostsConnection)||void 0===n||null===(i=n.posts)||void 0===i?void 0:i[0],r=(0,o.useCallback)((function(){(null==d?void 0:d.id)===a&&window.scrollTo(0,0)}),[a,d]);return d&&d.firstPublishedAt?o.createElement(le.N,{href:l(d),onClick:r,inline:!0},"Last published ",o.createElement(ve.c,{timestamp:d.firstPublishedAt,hasPrefix:!0})):null},wa=function(e){var n=e.postId,i=e.publisher,t=(0,Ea.Z)({name:"detail",scale:"M",color:"LIGHTER"}),a=(0,bn.l)(),l="Collection"===i.__typename;return o.createElement("div",{className:a([t,{display:"flex",whiteSpace:"pre-wrap"}])},o.createElement(ge.d,{margin:"0 8px"}),l?o.createElement(xa,{currentPostId:n,collection:i}):o.createElement(ba.V,{publisher:i,showWhenZero:!0,inline:!0}))},Pa=mt()({loading:function(){return null},loader:function(){return i.e(6999).then(i.bind(i,14701))},modules:["./GiveTipButton"],webpack:function(){return[14701]},render:(0,ct.X)("GiveTipButton")}),_a=function(e){var n=e.publisher,i=e.postId,t=(0,ze.R)().value,a=(0,oa.au)(),l=(0,Ot.z)({name:"can_send_tips_v0",placeholder:!1}),d=(0,V.D)(),r=(0,bt.qt)().baseTheme,s=(0,Fa._I)(d,r),m="User"===n.__typename,c=t&&t.id===n.id,u=(0,p.ST)(a("ShowSettingsTab",{setting:pa.W.Account}),{},va.cZ);return o.createElement(ha.N,{theme:s},c?o.createElement(He.$n,{buttonStyle:"BRAND",size:"REGULAR",href:u},o.createElement(L.a,{whiteSpace:"nowrap"},"Edit profile")):o.createElement(L.a,{display:"flex"},o.createElement(Na.o,{publisher:n,buttonSize:"REGULAR",susiEntry:"follow_profile",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"}}),l&&m&&o.createElement(Pa,{creatorId:n.id,postId:i,buttonStyle:"BRAND"})))},Aa=function(e){var n=e.publisher,i=e.postId,t="User"===n.__typename,a=(0,fa.E)(t?n:void 0),l=(0,ya.X)({entity:n});return o.createElement(L.a,{display:"flex",flexDirection:{xl:"row",lg:"row",md:"row",sm:"column",xs:"column"},ref:l},o.createElement(L.a,{marginRight:{xl:"20px",lg:"20px",md:"20px",sm:"0",xs:"0"},marginBottom:{xl:"0",lg:"0",md:"0",sm:"20px",xs:"20px"},display:"flex",justifyContent:"space-between"},o.createElement(M.V,{xl:!0,lg:!0,md:!0},o.createElement(Sa.K,{publisher:n,scale:"M",link:!0})),o.createElement(M.V,{sm:!0,xs:!0},o.createElement(Sa.K,{publisher:n,scale:"L",link:!0})),o.createElement(M.V,{sm:!0,xs:!0,alignSelf:"flex-end"},o.createElement(_a,{publisher:n,postId:i}))),o.createElement(L.a,{display:"flex",flexDirection:"column",flexGrow:"1",flexShrink:"1"},o.createElement(L.a,{maxWidth:{xl:"500px",lg:"500px",md:"500px",sm:"100%",xs:"100%"}},o.createElement(ma.B,{publisher:n,rules:{display:"flex",alignItems:"center"}},o.createElement(ua.y,{prefix:t?"Written by ":"Published in ",publisher:n,scale:{xl:"S",lg:"S",md:"S",sm:"M",xs:"M"},paddingRight:"4px"}),t&&a&&o.createElement(ga.G,{marginTop:"2px",size:"M",userId:n.id})),o.createElement(L.a,{marginTop:"8px",display:"flex",alignItems:"baseline"},o.createElement(L.a,{flexShrink:"0"},o.createElement(ka.T,{publisher:n,scale:"M",color:"LIGHTER",inline:!0,showWhenZero:!0})),o.createElement(wa,{postId:i,publisher:n})),o.createElement(L.a,{marginTop:"16px"},o.createElement(ca.F,{publisher:n,color:"DARKER"})))),o.createElement(M.V,{xl:!0,lg:!0,md:!0},o.createElement(_a,{publisher:n,postId:i})))},Ca=function(e){var n=e.user,i=e.collection,t=e.postId;return o.createElement(A.P,{size:"app"},i&&o.createElement(L.a,{marginBottom:"48px"},o.createElement(C.Ne,{source:{dimension:"post_publication_info"},extendSource:!0},o.createElement(Aa,{publisher:i,postId:t}))),o.createElement(C.Ne,{source:{dimension:"post_author_info"},extendSource:!0},o.createElement(Aa,{publisher:n,postId:t})))},Ta=i(30749),Da=i(62464),Ia=i(97595),Ra=i(14153),Oa=i(52144),La={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MobileFooterPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat((0,N.A)(Ia.D.definitions),(0,N.A)(Ra.p.definitions),(0,N.A)(Oa.P.definitions))},Ma={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileFooterPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MobileFooterPostActions_post"}}]}}]}}].concat((0,N.A)(La.definitions))},Ba=i(27895),Va=function(e){var n,i,t=e.post,l=e.isVisible,d=o.useContext(xi.u).openSidebar,r=(0,a.I)(Ma,{variables:{postId:t.id},ssr:!1}),s=r.data,m=r.loading,c=r.error;return m?null:(i=c||null==s||!s.post?t:s.post,o.createElement(Ba.$,{isVisible:l,multiVoteButton:o.createElement(Fi.W,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:o.createElement(Ei._,{responsesCountScale:"S",trackingData:{postId:i.id},responsesCount:(null===(n=i.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:i.isLimitedState,isPublished:i.isPublished,handleClick:d,countStylesOverride:{marginLeft:"4px"},allowResponses:i.allowResponses}),saveButton:o.createElement(Da.Q,{kind:Xe.Bd.POST,target:i})}))},ja=i(70663),Ua=i(78493),za=i(14852),Wa=i(80890),Ga=["title","includeStar","benefits","onClick","href","buttonContent","post","highlightText"],Za={marginRight:"8px",height:"16px",width:"16px"},Ha=function(e){return{backgroundColor:e.colorTokens.foreground.utilityYellow.primary.base,marginLeft:"16px",borderRadius:"4px",fontFamily:Wa.p0,fontWeight:500,fontSize:"12px",lineHeight:"132%",letterSpacing:"-0.192px",padding:"4px 8px"}},qa=function(e){var n=e.title,i=e.includeStar,t=e.benefits,a=e.onClick,l=e.href,d=e.buttonContent,r=e.post,s=e.highlightText,m=(0,St.A)(e,Ga),c=(0,bn.l)();return o.createElement(L.a,(0,je.A)({borderRadius:"4px",backgroundColor:"BACKGROUND",border:"neutral.primary",padding:"24px",width:{xs:"100%",sm:"100%",md:"320px",lg:"320px",xl:"320px"},display:"flex",flexDirection:"column",justifyContent:"space-between"},m),o.createElement(L.a,null,o.createElement(L.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o.createElement(L.a,{display:"flex",alignItems:"center"},i&&o.createElement(xn.A,{className:c(Za)}),o.createElement(B.DZ,{scale:"XS"},n)),s&&o.createElement("div",{className:c(Ha)},s)),o.createElement(L.a,{marginTop:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),t.map((function(e,n){return o.createElement(L.a,{key:n,marginTop:"16px",display:"flex"},o.createElement(L.a,{marginRight:"12px"},o.createElement(za.a,{size:"16"})),o.createElement(de.kZ,{scale:"M",color:"DARKER"},e))}))),o.createElement(L.a,null,o.createElement(L.a,{marginTop:"24px",marginBottom:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),o.createElement(Un.r,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:l,additionalClickActions:a,buttonWidth:"100%",post:r},d)))},Ya=i(77587),Qa=i(20026),Ka={xs:"440px",sm:"440px",md:"1192px",lg:"1192px",xl:"1192px"},Xa={position:"absolute",bottom:"0",left:"0",zIndex:"-1"},$a=["Distraction-free reading. No ads.","Organize your knowledge with lists and highlights.","Tell your story. Find your audience."],Ja=function(e){var n=e.post,i=(0,Nn.$L)(),t=(0,Ua.xu)({membershipType:Ua.yV.Monthly}),a=t.amount,l=t.currency,d=(0,oa.au)(),r=(0,o.useCallback)((function(){i.event("upsell.clicked",{dimension:"post_footer_upsell",entryPoint:"free_benefits"})}),[i]),s=(0,o.useCallback)((function(){i.event("upsell.clicked",{dimension:"post_footer_upsell",entryPoint:"membership_benefits"})}),[i]);return o.createElement(L.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:void 0},alignItems:"center"},o.createElement(U.pg,{miroId:"5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74",rules:Xa}),o.createElement(L.a,{marginRight:{xs:void 0,sm:void 0,md:void 0,lg:void 0,xl:"64px"},marginBottom:{xs:"24px",sm:"24px",md:"48px",lg:"48px",xl:void 0},textAlign:{xs:"center",sm:"center",md:"center",lg:"center",xl:void 0}},o.createElement(M.V,{marginBottom:"16px",xs:!0,sm:!0},o.createElement(ja.S,{size:"XS"})),o.createElement(M.V,{marginBottom:"32px",md:!0,lg:!0,xl:!0},o.createElement(ja.S,{size:"M"})),o.createElement(Qe.mz,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),o.createElement(L.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignItems:"stretch"},o.createElement(qa,{title:"Free",benefits:$a,buttonContent:"Sign up for free",onClick:r,post:n,marginBottom:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0},marginRight:{xs:void 0,sm:void 0,md:"40px",lg:"40px",xl:"32px"}}),o.createElement(qa,{title:"Membership",includeStar:!0,benefits:[Ya.$7,Ya.Rz,Ya.Xo].concat((0,N.A)(Ya.Mu)),buttonContent:"Try for ".concat((0,Qa.vv)({amount:a,currency:l,floatingDigits:[0,2]}),"/month"),onClick:s,href:d("ShowPay",{}),post:n})))},eo=i(3326),no=i(72113),io=function(e){return function(n){return{backgroundColor:n.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(n.colorTokens.border.neutral.secondary.base),position:"fixed",width:"100%",visibility:e?"visible":"hidden"}}},to=function(e){var n=e.hide,i=e.height,t=e.containerRef,a=e.post,l=e.isVisible,d=e.setIsVisible,r=(0,o.useRef)(0),s=(0,o.useRef)(0),m=(0,me.U)();return(0,o.useEffect)((function(){if(i>0&&!l&&d(!0),m&&m!==G.i.xl&&!(i<window.innerHeight/2)){var e=function(){var e=window.scrollY,n=i-window.innerHeight/2,a=i>window.innerHeight?n:Math.min(i/2,n),o=e<=0?0:Math.min(a,s.current+e-r.current);s.current=Math.max(0,o),r.current=e,t.current&&(t.current.style.removeProperty("bottom"),0===s.current?t.current.style.top="50vh":t.current.style.top="calc(50vh - ".concat(s.current,"px)"))};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}t.current&&(t.current.style.removeProperty("top"),t.current.style.bottom="0")}),[i,m]),o.createElement(L.a,{maxWidth:Ka},o.createElement(no.I,{onClose:n,containerProps:{position:"absolute",top:"16px",right:"16px",padding:"0"}}),o.createElement(Ja,{post:a}))},ao=function(e){var n=e.hide,i=e.post,t=(0,Nn.$L)(),a=(0,o.useState)(0),l=(0,Ve.A)(a,2),d=l[0],r=l[1],s=(0,o.useState)(!1),m=(0,Ve.A)(s,2),c=m[0],u=m[1];return(0,o.useEffect)((function(){t.event("upsell.viewed",{dimension:"post_footer_upsell",postId:i.id})}),[i.id]),o.createElement(eo.r,{height:d,setHeight:r,isVisible:!0,hideDirection:"down",containerRules:io(c),onHide:n,contentProps:{flexDirection:"column",padding:{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"},alignItems:"center"},hideOnEscapeKey:!0},(function(e){var n=e.hide,t=e.containerRef;return o.createElement(to,{height:d,hide:n,containerRef:t,post:i,isVisible:c,setIsVisible:u})}))},oo=i(60603),lo=i(4441),ro=30*$t.ei,so=function(){return null},mo=["9db0094a1e0f","f03bf92035c9"],co=function(e){var n=e.post,i=e.postIsLocked,t=(0,me.U)(),a=t===G.i.xs||t===G.i.sm,d=function(e,n){var i,t=(0,k.d4)((function(e){return e.client.hydrated})),a=(0,Nn.$L)(),d=(0,ze.R)(),r=d.value,s=d.error,m=d.loading,c=!m&&!s&&!r,u=(0,oo.e)(!1),p=(0,Ve.A)(u,2),v=p[0],g=p[1],f=(0,lo.y)((0,ot.D9)(),ro),S=(0,o.useCallback)((function(){(0,ot.pm)(new Date),a.event("upsell.dismissed",{dimension:"post_footer_upsell"}),g()}),[a,g]),N=(0,l.zy)(),h=(0,oa.W5)(N.pathname),y="post"===(null==h||null===(i=h.route)||void 0===i?void 0:i.mediumAppPage);return!t||m?{isLoading:!0,isVisible:!1,hide:so,click:so,isDiscount:!1}:mo.includes(e)||n||!y||!c||!t||v||f?{isLoading:!1,isVisible:!1,hide:so}:{isLoading:!1,isVisible:!0,hide:S}}(n.id,i),r=d.isLoading,s=d.isVisible,m=d.hide,c=a&&!s&&!r;if(!c&&!s)return null;var u=c?Le.x:0;return o.createElement(Ta.N,{maxHeightToHideOnScroll:u,isUpsellVisible:s},(function(e){var i=e.isStuck;return o.createElement(o.Fragment,null,s&&o.createElement(C.Ne,{extendSource:!0,source:{dimension:"post_footer_upsell",postId:n.id}},o.createElement(bt.Cq,null,o.createElement(ao,{hide:m,post:n}))),c&&o.createElement(Va,{post:n,isVisible:i}))}))},uo=function(e){var n=e.post,i=e.recirc,t=e.postCatalogRecirc,d=e.catalog,r=e.authorCollectionRecircFeed,s=e.postViewerEdgeLoading,m=(0,V.D)(),c=o.useRef(null),p=(0,ze.R)().value,v=n.isLocked,g=n.collection,f=n.creator,S=n.content.isLockedPreviewOnly,N=(0,Ot.z)({name:"enable_prototype_boost_labeling",placeholder:!1}),h=(0,lt.N)({post:n,includeFirstBoostedAt:!!N}).firstBoostedAt,y=(0,ni.D)({post:n,postBodyRef:c,postViewerEdgeLoading:s,firstBoostedAt:h}),F=!!n.inResponseToEntityType,b=v?{className:"meteredContent"}:{},E=(g||{}).googleAnalyticsId;return(0,Oe.j)({ids:E?[E]:null}),(0,ea.n)(c,n),function(e,n,i){var t=(0,Nn.$L)(),a=(0,C.jI)(),l=(0,o.useState)(!1),d=(0,Ve.A)(l,2),r=d[0],s=d[1],m=(0,Ue.wA)(),c=(0,na.L)(),u=function(){var e=(0,na.L)(),n=(0,Ot.z)({name:"enable_member_nps_survey",placeholder:!1}),i=(0,ze.R)(),t=i.loading,a=i.value;return(0,o.useCallback)((function(){n&&!t&&a&&e&&(a.membership&&(e.setLocalAttribute("membership.tier",a.membership.tier),e.setLocalAttribute("membership.memberSince",a.membership.memberSince),e.setLocalAttribute("membership.friendSince",a.membership.friendSince)),e.fireEvent("user.postClientRead"))}),[n,t,a,e])}();(0,o.useEffect)((function(){if(!r&&i){var o=function(){if(n.current&&!r){var o,l=(0,ia.G9)(n.current),d=(0,ia.$5)(l),k=d.top+d.height,p=(0,ia.$5)((0,ia.$S)()),v=p.top+p.height;if(!i.content.isLockedPreviewOnly&&v>=k-100&&a.includes("post_page")){s(!0),m((0,$e.jo)(!0));var g={source:a,postId:i.id,collectionSlug:i.collection?i.collection.slug:"",sequenceId:i.sequence?i.sequence.sequenceId:""};t.event("post.clientRead",g),c&&(c.setLocalAttribute("latest.post.clientRead.url",window.location.href),g.postId&&c.setLocalAttribute("latest.post.clientRead.postId",g.postId),g.source&&c.setLocalAttribute("latest.post.clientRead.source",g.source)),u(),e||(o=i.id,it(Ki,o,Date.now()))}}};return Ke.R5.on("scroll_end",o),function(){Ke.R5.off("scroll_end",o)}}}),[r,i,c,u]),(0,o.useEffect)((function(){return function(){m((0,$e.jo)(!1))}}),[])}(!!p,c,n),function(e){var n=e.post,i=e.clientViewedContext,t=void 0===i?1:i,l=e.overrideCommonData,d=void 0===l?{}:l,r=e.postViewerEdgeLoading;(function(e){var n,i,t=e.post,o=(0,k.d4)((function(e){return e.config.authDomain})),l=null==t?void 0:t.id,d=(0,qi.cd)(null==t?void 0:t.creator),r=d.viewerEdge,s=d.loading,m=(0,We.J)(null==t?void 0:t.collection),c=m.viewerEdge,u=m.loading,p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=(0,a.I)(Hi,{variables:{topicId:n},ssr:!1,skip:!n}),t=i.loading,o=i.error,l=i.data;return t?{loading:t}:o?{error:o}:{viewerEdge:null==l||null===(e=l.topic)||void 0===e?void 0:e.viewerEdge}}(null==t||null===(n=t.primaryTopic)||void 0===n?void 0:n.id),v=p.viewerEdge,g=p.loading,f=u||s||g;(0,Zi.O)({data:{canonicalUrl:l&&null!=t&&null!==(i=t.collection)&&void 0!==i&&i.domain?(0,T.KI2)(o,l):void 0,creatorViewerEdge:r,collectionViewerEdge:c,post:t||void 0,topicViewerEdge:v},loading:!l||f||!(null!=t&&t.isPublished),show:!0})})({post:n}),function(e){var n=e.post,i=e.clientViewedContext,t=e.overrideCommonData,a=void 0===t?{}:t,l=e.postViewerEdgeLoading,d=(0,Nn.$L)(),r=(0,tt.A)(),s=r.loading,m=r.viewerId,c=m&&(0,at.C)(m),u=(null==n?void 0:n.collection)||{},k=u.id,p=u.slug,v=((null==n?void 0:n.content)||{}).validatedShareKey,g=null==n?void 0:n.id,f=(0,C.jI)();o.useEffect((function(){!s&&g&&m&&!l&&(null!=n&&n.isPublished?(c||(n.isLocked?(0,ot.$r)():(0,ot.qo)()),d.event("post.clientViewed",{postId:g,collectionId:k,collectionSlug:p,context:i,isFriendLink:!!v,source:f,isTruncated:n.content.isLockedPreviewOnly,postShareKey:v},a)):d.event("post.draftViewed",{postId:g}),c||function(e){it(Qi,e,Date.now())}(g))}),[g,m,s,l,v])}({post:n,clientViewedContext:t,overrideCommonData:d,postViewerEdgeLoading:r})}({post:n,postViewerEdgeLoading:s}),function(e){var n=(0,ze.R)().value,i=(0,$n.n)(Jn,{variables:{postId:e.id}}),t=(0,Ve.A)(i,2),a=t[0],l=t[1].called;o.useEffect((function(){e.isPublished||null==n||!n.id||l||a()}),[n])}(n),function(){var e=(0,$e.zF)(),n=(0,o.useState)(!0),i=(0,Ve.A)(n,2),t=i[0],a=i[1],l=(0,ze.R)().value,d=(0,k.ZA)((function(e){return e.session.xsrf})),r=(0,u.MW)(),s=(0,C.PJ)(r||"").name;(0,o.useEffect)((function(){function e(){return(e=(0,Nt.A)(Jt().mark((function e(){var n;return Jt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ot.V7)(l.id,d);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==l?void 0:l.id,d]),(0,o.useEffect)((function(){var n;null!=l&&null!==(n=l.viewerEdge)&&void 0!==n&&n.createdAt&&(new Date).getTime()-l.viewerEdge.createdAt>5*$t.CJ&&!t&&"login"===s&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),a(!0),(0,ot.u2)(l.id,d))}),[l,t,e,s,d])}(),function(e){var n,i,t,d,r=function(){var e,n=(0,l.zy)().hash;if(n.startsWith("#id_token"))return{};var i=null==n||null===(e=n.replace("#",""))||void 0===e?void 0:e.split("-"),t=(0,Ve.A)(i,2);return{activeGrafId:t[0],activeNoteId:t[1]}}(),s=r.activeGrafId,m=r.activeNoteId,c=(0,k.d4)((function(e){return e.navigation.referrer})),p=(0,u.WZ)(),v=(0,u.MW)(),g=(0,a.I)(rt,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:c,sk:p,source:v}},ssr:!1,skip:!m}),f=g.loading,S=g.error,N=g.data,h=(null!=N?N:{}).post,y=null==h||null===(n=h.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===m})),F=null!==(i=null==h||null===(t=h.content)||void 0===t||null===(d=t.bodyModel)||void 0===d?void 0:d.paragraphs)&&void 0!==i?i:[],b=new Set(F.map((function(e){return e.name})).filter(dt.se)),E=!!y&&!!s&&b.has(s),x=!(f||S||!m||E),w=(0,Ue.wA)();(0,o.useEffect)((function(){x&&w((0,$e.MZ)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[x,w,$e.MZ])}(n),function(e,n){var i=(0,ta.a)("enable_custom_moc_preview_for_google_referrer",n),t=(0,k.d4)((function(e){return e.navigation.referrer}));(0,o.useEffect)((function(){e&&(0,aa.VB)(t)&&i()}),[i,e,t])}(S,n.id),o.createElement(L.a,null,o.createElement(C.Ne,{source:{dimension:"post_top_nav_upsell"}},o.createElement(un.w,{isPostLocked:!!v})),o.createElement(Rt,{post:n},o.createElement(fi,{post:n}),o.createElement(Xt,null),o.createElement(Wt.f,{post:n,user:f,forceLoad:(null==p?void 0:p.id)===(null==f?void 0:f.id)}),o.createElement(L.a,{marginBottom:{xs:"2px",sm:"2px",md:"50px",lg:"50px",xl:"50px"}},o.createElement(A.P,{size:"app"},F&&o.createElement(L.a,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},marginBottom:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},o.createElement(ei.d,{post:n}))),o.createElement("article",b,o.createElement(L.a,null,o.createElement(zt,{post:n},o.createElement(L.a,null,o.createElement(Si.N,{isAuroraPostPageEnabled:!0,post:n,ref:c,richTextStyle:"FULL_PAGE",postBodyInserts:y}))))),o.createElement(Xn,{post:n})),o.createElement(co,{post:n,postIsLocked:!!v}),!S&&o.createElement(Gi,{post:n}),o.createElement(Be,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app",marginBottom:"50px"},o.createElement(C.Ne,{source:{dimension:"footer_actions"},extendSource:!0},o.createElement(wi,{post:n,socialPopoverPosition:"end"}))),f&&o.createElement(L.a,{marginBottom:"64px"},o.createElement(Ca,{user:f,collection:g,postId:n.id})),o.createElement(kt,{post:n})),"Catalog"===(null==d?void 0:d.__typename)&&o.createElement(he,{currentPostId:n.id,catalog:d}),o.createElement(L.a,{backgroundColor:"BASE_LIGHT",paddingTop:{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}},f&&o.createElement(Q,{postId:n.id,authorCollectionRecircFeed:r,user:f,collection:g}),o.createElement(sa,{recirc:i,postCatalogRecirc:t}),o.createElement(M.V,{lg:!0,xl:!0},o.createElement(O.i,{marginTop:"72px",borderColor:m.colorTokens.border.neutral.tertiary.base}),o.createElement(A.P,{size:"app"},o.createElement(cn.j,{padding:"24px 0",spacing:"L",detailScale:"S"})))),o.createElement(mn,{post:n}))},ko=i(17290),po=i(55918),vo=i(89704),go=i(33487),fo=i(30898),So=i(16729),No=i(7541),ho=i(52859),yo=i(60894),Fo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionLastPostDate_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestPostsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}]}}]}}]}}].concat((0,N.A)(Fe.c.definitions))},bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowingCountOrLastPostDate_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLastPostDate_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowingCount_publisher"}}]}}].concat((0,N.A)(Fo.definitions),(0,N.A)(yo._.definitions))},Eo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublisherInfo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherLink_user"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherLink_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherAvatar_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowingCountOrLastPostDate_publisher"}}]}}].concat((0,N.A)(po.s.definitions),(0,N.A)(vo.t.definitions),(0,N.A)(vo.C.definitions),(0,N.A)(go.l.definitions),(0,N.A)(fo.c.definitions),(0,N.A)(So.e.definitions),(0,N.A)(No.j.definitions),(0,N.A)(ho.f.definitions),(0,N.A)(bo.definitions))},xo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishersInfoSection_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublisherInfo_publisher"}}]}}].concat((0,N.A)(Eo.definitions))},wo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishersInfoSection_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublisherInfo_publisher"}}]}}].concat((0,N.A)(Eo.definitions))},Po=i(71324),_o=i(48049),Ao=i(62742),Co={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat((0,N.A)(Ao.CV.definitions))},To={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Paywall_post"}}]}}].concat((0,N.A)(Co.definitions),(0,N.A)(Mn.definitions))},Do=i(98076),Io=i(19176),Ro={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedRepliesParentEntity_post"}}]}}].concat((0,N.A)(Io.y7.definitions))},Oo=([{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_threadedPostResponseConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ThreadedPostResponseConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_threadedPostResponseConnection"}}]}}].concat((0,N.A)(Io.Dv.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat((0,N.A)(Ro.definitions))}),Lo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat((0,N.A)(Oo.definitions))},Mo=i(9078),Bo=i(14029),Vo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterActionsBar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}}]}}].concat((0,N.A)(Ia.D.definitions),(0,N.A)(Mo.S.definitions),(0,N.A)(Ra.p.definitions),(0,N.A)(Bo.Q.definitions))},jo=i(17441),Uo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_logo"}}]}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_logo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]))},zo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,N.A)(b.v0.definitions),(0,N.A)(Uo.definitions),(0,N.A)(jo.H4.definitions))},Wo=i(36305),Go={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,N.A)(b.v0.definitions),(0,N.A)(zo.definitions),(0,N.A)(Wo.l.definitions),(0,N.A)(Wo.H.definitions),(0,N.A)(jo.TW.definitions),(0,N.A)(jo.m_.definitions),(0,N.A)(jo.G5.definitions),(0,N.A)(jo.H4.definitions))},Zo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},Ho=i(42144),qo=i(23445),Yo=i(52897),Qo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}].concat((0,N.A)(po.s.definitions),(0,N.A)(b.v0.definitions),(0,N.A)(qo.pB.definitions),(0,N.A)(Yo.l.definitions))},Ko=i(3531),Xo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}]))},$o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DraftStatus_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BoldCollectionName_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"BoldCollectionName_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))},Jo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}}]}}].concat((0,N.A)(Ko.v.definitions),(0,N.A)(Xo.definitions),(0,N.A)($o.definitions))},el={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorByline_user"}}]}}].concat((0,N.A)(Qo.definitions))},nl={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MaybeTextToSpeech_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButton_post"}}]}}].concat((0,N.A)(Jo.definitions),(0,N.A)(Ia.D.definitions),(0,N.A)(Bo.Q.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"MaybeTextToSpeech_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}]),(0,N.A)(Mo.S.definitions),(0,N.A)(Ra.p.definitions))},il={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,N.A)(w.definitions),(0,N.A)(F.definitions))},tl={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_paragraph"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_post"}}]}}].concat((0,N.A)(Ho.z8.definitions),(0,N.A)(Ho.Cg.definitions),(0,N.A)(el.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),(0,N.A)(nl.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}}]}}]),(0,N.A)(il.definitions))},al={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]))},ol={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostClientViewedReporter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_post"}}]}}].concat((0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostClientViewedReporter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,N.A)(al.definitions))},ll=i(54814),dl=i(85361),rl={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResponsesContent_post"}}]}}].concat((0,N.A)(dl.F.definitions))},sl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishersInfoSection_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishersInfoSection_user"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostTracking_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResponses_post"}}]}}]}}]}}].concat((0,N.A)(ko.M.definitions),(0,N.A)(ne.definitions),(0,N.A)(wo.definitions),(0,N.A)(Po.Z.definitions),(0,N.A)(_o.x.definitions),(0,N.A)(ee.definitions),(0,N.A)(xo.definitions),(0,N.A)(To.definitions),(0,N.A)(Do.KU.definitions),(0,N.A)(Lo.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),(0,N.A)(Vo.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,N.A)(Go.definitions),(0,N.A)(_o.W.definitions),(0,N.A)(Zo.definitions),(0,N.A)(tl.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),(0,N.A)(ol.definitions),(0,N.A)(ll.W.definitions),(0,N.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]),(0,N.A)(rl.definitions))},ml=i(10531),cl=function(){var e=(0,me.U)()||G.i.lg,n=e===G.i.xs||e===G.i.sm?2:3;return o.createElement(L.a,{height:"100vh"},o.createElement(L.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%",marginTop:"48px"},o.createElement(L.a,{width:"80%",height:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"},marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{display:"flex",marginBottom:{xs:"44px",sm:"44px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(L.a,{height:"44px",width:"44px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",marginRight:"12px"}),o.createElement(L.a,{margin:"auto 0"},o.createElement(L.a,{height:"16px",marginBottom:"4px",width:"120px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{height:"16px",width:"80px",backgroundColor:"BASE_NORMAL"}))),Array.from(Array(n)).map((function(e,n){return o.createElement(L.a,{key:n,width:"100%",marginBottom:{xs:"32px",sm:"32px",md:"48px",lg:"48px",xl:"48px"}},o.createElement(L.a,{width:"96%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{width:"100%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(L.a,{width:"81%",height:"24px",backgroundColor:"BASE_NORMAL"}))}))))},ul=function(){return o.createElement(ml.H,{itemPlaceholder:cl,numPlaceholders:1})};function kl(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function pl(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?kl(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kl(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var vl=function(e){var n,i,t,l,d,r,s=(0,T.quc)({params:e})||"",m=(0,k.d4)((function(e){return e.client.viewerIsBot})),c=(0,k.d4)((function(e){return e.navigation.referrer})),p=m,v=(0,a.I)(sl,{variables:{postId:s,postMeteringOptions:{referrer:c}},skip:!s}),g=(0,a.I)(Ie,{variables:{postId:s},skip:!s,ssr:p}),f=(0,a.I)(Re,{variables:{postId:s},skip:!s,ssr:p}),S=(0,u.MW)(),N=(0,o.useMemo)((function(){return(0,C.PJ)(null!=S?S:"")}),[S]).catalogId,h=(0,a.I)(ie,{variables:{input:{postId:s,paging:{limit:4}}},skip:!s,ssr:p}),y=(0,a.I)(Ae,{variables:{catalogId:null!=N?N:"",limit:11},skip:!s||!N,ssr:p}),F=null===(n=v.data)||void 0===n?void 0:n.postResult,b="Post"===(null==F?void 0:F.__typename)&&!(null==F||null===(i=F.content)||void 0===i||!i.isLockedPreviewOnly),E=_(s,b),x=E.content,w=!!E.loading,P=F&&x?pl(pl({},F),{},{content:x}):F,A=null===(t=g.data)||void 0===t?void 0:t.recirc,D=null===(l=f.data)||void 0===l?void 0:l.postCatalogRecirc,I=null===(d=h.data)||void 0===d?void 0:d.authorCollectionRecircFeed,R=null===(r=y.data)||void 0===r?void 0:r.catalogById;return o.useMemo((function(){return{loading:v.loading||w,postQueryResult:v,postResult:P,postViewerEdgeLoading:w,recirc:A,postCatalogRecirc:D,catalog:R,authorCollectionRecircFeed:I}}),[v,P,A,R,D,w,I])},gl=o.memo((function(e){var n=e.postQueryResult,i=e.postResult,t=e.recirc,a=e.postCatalogRecirc,c=e.authorCollectionRecircFeed,u=e.catalog,k=e.params,p=e.postViewerEdgeLoading,v=(0,T.quc)({params:k})||"",g=n.loading,f=n.error,N=(0,l.zy)(),h=o.useMemo((function(){return{name:"post_page",postId:v}}),[v]);return v?g?o.createElement(A.P,{size:"inset"},o.createElement(ul,null)):f?o.createElement(d.z,{error:f}):(0,m.M)(i)?o.createElement(m.a,{postResult:i}):o.createElement(S,{post:i,matchedPath:N.pathname,key:v},o.createElement(C.Ne,{source:h},i.creator&&o.createElement(s.F,{user:i.creator}),o.createElement(uo,{post:i,recirc:t,postCatalogRecirc:a,postViewerEdgeLoading:p,authorCollectionRecircFeed:c,catalog:u}))):o.createElement(r.u,null)}))},1422:(e,n,i)=>{"use strict";i.d(n,{I:()=>l});var t=i(45458),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogCovers_catalogEntity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogCover_catalogEntity"}}]}}].concat((0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogCover_catalogEntity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogEntity"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}}]}}]}}]))},o=i(59265),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogPreview_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"postItemsCount"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followersCount"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogCovers_catalogEntity"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}}]}}].concat((0,t.A)(a.definitions),(0,t.A)(o.Rm.definitions))}},85259:(e,n,i)=>{"use strict";i.d(n,{W:()=>E});var t=i(55127),a=i.n(t),o=i(96540),l=i(52290),d=i(44402),r=i(90280),s=i(77865),m=i(20239),c=i(90383),u=function(e){var n,i,t=e.entity,a=e.size,d=(0,m.D)(),u="".concat(a,"px");return i="Post"===(null==t?void 0:t.__typename)&&null!==(n=t.previewImage)&&void 0!==n&&n.id?o.createElement(r.pg,{miroId:t.previewImage.id,alt:t.previewImage.alt||"",width:a,height:a,strategy:c.qY.Crop,loading:s.u.LAZY}):o.createElement(l.a,{height:u,width:u,background:d.colorTokens.background.neutral.quaternary.base},o.createElement(l.a,{borderRadius:"50%",width:"100%",height:"100%",background:d.colorTokens.foreground.neutral.secondary.base})),o.createElement(l.a,{borderRadius:"2px",height:u,overflow:"hidden"},i)},k=function(e,n){return function(i){var t=.75*n,a=1===e?"-".concat(.5*n,"px"):2===e?"-".concat(t,"px"):void 0;return{position:"relative",borderRadius:"2px",borderRight:e<2?"".concat(3,"px solid ").concat(i.colorTokens.background.neutral.tertiary.base):void 0,backgroundColor:i.colorTokens.background.neutral.tertiary.base,zIndex:3-e,marginLeft:a}}},p=function(e){var n=e.entities,i=e.size,t=(0,d.l)(),a=3*(i+3)-.5*i-.75*i;return o.createElement(l.a,{display:"flex",overflow:"hidden",width:"".concat(a,"px"),borderRadius:"0 3px 3px 0",position:"relative",flexShrink:"0"},n.slice(0,3).map((function(e,n){return o.createElement("div",{key:n,className:t(k(n,i))},o.createElement(u,{entity:e,size:i}))})))},v=i(85764),g=i(5562),f=i(86527),S=i(56942),N=i(39),h=i(39160),y=i(15371),F=i(46879),b={display:"flex",marginBottom:"16px",alignItems:"flex-start"},E=function(e){var n=e.catalog,i=e.titleMargin,t=(0,d.l)(),r=(0,h.d4)((function(e){return e.config.authDomain})),s=(0,N.Z)({name:"detail",scale:"S",color:"LIGHTER"}),m=(0,F.n1u)(n,r),c=n.itemsConnection.items.map((function(e){return e.entity})),u=n.viewerEdge.followersCount;return o.createElement(f.N,{href:m,rules:b},o.createElement(p,{entities:c,size:48}),o.createElement(l.a,{marginLeft:"16px"},o.createElement(S.DZ,{clamp:2,scale:"XS"},n.predefined?(0,y.cm)(n.predefined):n.name),o.createElement("div",{className:t([s,{display:"flex",marginTop:i}])},(0,v.b5)(n),u?o.createElement(o.Fragment,null,o.createElement(g.d,{margin:"0 8px"}),u," ",a()("save",u)):null)))}},71324:(e,n,i)=>{"use strict";i.d(n,{Z:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},42680:(e,n,i)=>{"use strict";i.d(n,{F:()=>o});var t=i(96540),a=i(52290),o=function(e){var n,i,o,l,d=e.user,r=null===(n=d.linkedAccounts)||void 0===n||null===(i=n.mastodon)||void 0===i?void 0:i.domain,s=null===(o=d.linkedAccounts)||void 0===o||null===(l=o.mastodon)||void 0===l?void 0:l.username;return r&&s?t.createElement(a.a,{display:"none"},t.createElement("a",{rel:"me",href:"https://".concat(r,"/@").concat(s)},"Mastodon")):null}},77587:(e,n,i)=>{"use strict";i.d(n,{$7:()=>u,$v:()=>N,Mu:()=>v,Rz:()=>p,Xo:()=>k,uo:()=>S});var t=i(45458),a=i(96540),o=i(52290),l=i(14852),d=i(36557),r=i(56942),s=i(42976),m=i(56173),c="Customize app icon",u="Read member-only stories",k="Earn money for your writing",p="Support writers you read most",v=["Listen to audio narrations","Read offline with the Medium app"],g="Access our Mastodon community",f=["Connect your custom domain","Create your own publications"],S=function(e){var n=e.children,i=e.isStrongText,t=e.isStarIcon,c=a.createElement(d.kZ,{scale:"M",color:"DARKER","data-testid":"benefit-text"},n);return i&&(c=a.createElement(r.DZ,{scale:"XS",color:"NORMAL","data-testid":"benefit-text"},n)),a.createElement(o.a,{tag:"li",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"8px"},a.createElement(o.a,{display:"flex",alignSelf:"flex-start",marginTop:i?"3px":"2px",width:"16px",height:"16px"},t?a.createElement(m.s,{tier:s.T3.MEMBER,size:16}):a.createElement(l.a,{color:"foreground.accent.primary",size:"16",role:"presentation","aria-hidden":"true",focusable:"false"})),a.createElement(o.a,{display:"flex",textAlign:"left"},c))},N=function(e){var n=e.iconType,i=e.membershipTier,o=void 0===i?s.T3.MEMBER:i,l=e.includeLowerTierBenefits,d=void 0===l||l,r=o===s.T3.FRIEND,m=function(e){var n=e?[u,k].concat(v,[g,c],f):[c];return["Give 4x more to the writers you read","Share member-only stories with anyone and drive more earnings for writers"].concat((0,t.A)(n))}(d),N=[u,p,k].concat(v,[g],f),h=r?m:N,y=r?[0]:[];return a.createElement(a.Fragment,null,h.map((function(e,i){return a.createElement(S,{isStarIcon:"star"===n,isStrongText:y.includes(i),key:"benefit-".concat(i)},e)})))}},18302:(e,n,i)=>{"use strict";i.d(n,{h:()=>V});var t=i(96540),a=i(77865),o=i(73916),l=i.n(o),d=i(52290),r=i(86527),s=i(39410),m=i(27622),c=i(36557),u=i(49287),k=i(44402),p=i(79959),v=i(88726),g=i(85050),f=i(27049),S=i(20239);function N(e){var n=e.dividerBreakpoints,i=e.dividerColor,a=(0,S.D)();return t.createElement(g.V,{xl:n.includes(f.i.xl),lg:n.includes(f.i.lg),md:n.includes(f.i.md),sm:n.includes(f.i.sm),xs:n.includes(f.i.xs)},t.createElement(v.i,{marginTop:"0px",borderColor:null!=i?i:a.colorTokens.border.neutral.primary.base}))}var h=i(90280),y=i(90383),F=i(93694);function b(e,n){return e.includes(n)?"block":"none"}function E(e){return e?Math.round(e):e}function x(e){var n=e.post,i=e.scales,o=e.aspectRatio,l=void 0===o?h.l8.ThreeToTwo:o,r=e.miroImgFetchedWidth,s=e.webp,m=e.freezeGifs,c=void 0!==m&&m,u=e.imgLoading,k=void 0===u?a.u.LAZY:u,p=(0,F.y2)(i),v=n.previewImage,g=n.title,f=(null==v?void 0:v.id)||"1*yuVzMhCJyDENbyhwAsrkwA.png",S=(0,y.rP)({miroId:f,width:r,strategy:y.qY.Resample,freezeGifs:c,webp:!!s}),N=(null==v?void 0:v.alt)||g||"",x=function(e,n,i){return function(t){var a,o,l=null!==(a=E(n))&&void 0!==a?a:50,d=null!==(o=E(i))&&void 0!==o?o:50;return{width:"100%",borderRadius:"2px",aspectRatio:"string"==typeof e?h.au[e]:{xs:h.au[e.xs],sm:h.au[e.sm],md:h.au[e.md],lg:h.au[e.lg],xl:h.au[e.xl]},objectFit:"cover",objectPosition:"".concat(l,"% ").concat(d,"%"),backgroundColor:t.colorTokens.background.neutral.tertiary.base}}}(l,null==v?void 0:v.focusPercentX,null==v?void 0:v.focusPercentY);return t.createElement("div",{"aria-label":N||"Post Preview Image"},Object.keys(p).map((function(e){var n=p[e];return n.length?t.createElement(d.a,{display:{xs:b(n,"xs"),sm:b(n,"sm"),md:b(n,"md"),lg:b(n,"lg"),xl:b(n,"xl")},key:"grid-image-".concat(e)},t.createElement(a._,{src:S,alt:N,rules:x,loading:k})):null})))}var w=i(7380),P=i(74015),_=i(65648),A="image",C="content";function T(e){return new Array(12).fill(null).map(e).join(" ")}function D(e){switch(e){case"L":return'"'.concat(T((function(e,n){return n>=7?C:A})),'"');case"M":case"S":var n=T((function(){return A})),i=T((function(){return C}));return'"'.concat(n,'" "').concat(i,'"')}}var I={S:{subElementSpacing:"16px",titleScale:"S",titleClamp:2,gridTemplateAreas:D("S"),gap:"24px 0",hasDivider:!0,flexGrowTitle:"1"},M:{subElementSpacing:"16px",titleScale:"M",titleClamp:2,gridTemplateAreas:D("M"),gap:"32px 0",hasDivider:!0,flexGrowTitle:"1"},L:{subElementSpacing:"24px",titleScale:"L",titleClamp:3,gridTemplateAreas:D("L"),gap:"0 56px",hasDivider:!1,flexGrowTitle:void 0}},R=function(e,n){return{position:"relative",height:"100%",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridTemplateRows:"auto 1fr",gap:e,gridTemplateAreas:n}},O=function(e){return{gridArea:e}},L={display:"flex",justifyContent:"center",flexDirection:"column"},M=function(e){var n,i=e.post,o=e.postUrl,v=e.scales,g=e.aspectRatio,f=e.showCollectionName,S=e.showDivider,h=e.dividerBreakpoints,y=e.dividerColor,b=e.miroImgFetchedWidth,E=e.webp,T=void 0!==E&&E,D=e.freezeGifs,M=e.prependOverflowMenuItems,B=e.imgLoading,V=void 0===B?a.u.LAZY:B,j=(0,k.l)(),U=(0,u.jI)(),z=i.title,W=null==i||null===(n=i.extendedPreviewContent)||void 0===n?void 0:n.subtitle,G=(0,F.Lk)(I,v),Z=l()(G,(function(e){return e.subElementSpacing})),H=l()(G,(function(e){return e.titleScale})),q=l()(G,(function(e){return e.titleClamp})),Y=l()(G,(function(e){return e.gap})),Q=l()(G,(function(e){return e.gridTemplateAreas})),K=l()(G,(function(e){return e.hasDivider})),X=l()(G,(function(e){return e.flexGrowTitle})),$=z&&z.length>70,J=S&&K,ee=z||W?"12px":void 0;return t.createElement("div",{className:j(R(Y,Q)),role:"link","data-href":o,tabIndex:0,onKeyDown:function(e){e&&"Enter"===e.key&&window.location.assign((0,p.ST)(o,{source:U}))}},t.createElement("div",{className:j(O(A))},t.createElement(x,{post:i,scales:v,aspectRatio:g,miroImgFetchedWidth:b,webp:T,freezeGifs:D,imgLoading:V})),t.createElement("div",{className:j([O(C),L])},t.createElement(w.p,{rules:{display:"flex",flexDirection:"column",flexGrow:1}},t.createElement(t.Fragment,null,t.createElement(P.O,{post:i,marginBottom:Z,showCollectionName:f}),t.createElement(d.a,{wordBreak:"break-word",paddingBottom:ee,flexGrow:X},t.createElement(w.o,null,t.createElement(r.N,{href:o},z&&t.createElement("div",{title:$?z:""},t.createElement(s.hE,{scale:H,clamp:q},z)),W&&t.createElement(d.a,{paddingTop:"8px"},t.createElement(m.Pd,{scale:"S",clamp:2},W))))),t.createElement(c.kZ,{scale:"S",tag:"span"},t.createElement(_.u,{type:_.E.GRID,post:i,postUrl:o,scales:v,prependOverflowMenuItems:M})),J&&t.createElement(N,{dividerBreakpoints:h,dividerColor:y})))))},B=i(98237);function V(e){var n=e.post,i=e.index,o=e.lastIndex,l=e.presentationTrackerReferrerSource,d=e.scale,r=e.aspectRatio,s=e.showCollectionName,m=e.dividerBreakpoints,c=e.dividerColor,u=e.miroImgFetchedWidth,k=e.webp,p=void 0!==k&&k,v=e.freezeGifs,g=e.prependOverflowMenuItems,f=e.imgLoading,S=void 0===f?a.u.LAZY:f,N="string"==typeof d?(0,F.Kb)(d):d;return t.createElement(B._,{post:n,presentationTrackerReferrerSource:l,index:i,isFullHeight:!0},(function(e){var a=e.postUrl;return t.createElement(M,{post:n,postUrl:a,scales:N,aspectRatio:r,showDivider:i!==o,showCollectionName:s,dividerBreakpoints:m,dividerColor:c,miroImgFetchedWidth:u,webp:p,freezeGifs:v,prependOverflowMenuItems:g,imgLoading:S})}))}},89704:(e,n,i)=>{"use strict";i.d(n,{C:()=>l,t:()=>o});var t=i(45458),a=i(59265),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,t.A)(a.v0.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherLink_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,t.A)(a.dl.definitions))}},14500:(e,n,i)=>{"use strict";i.d(n,{B:()=>s});var t=i(96540),a=i(60213),o=i(64122),l=i(86527),d=function(e){var n=e.user,i=e.rules,a=e.children,d=(0,o.W)()(n);return t.createElement(l.N,{href:d,inheritBorder:!1,rules:i},a)},r=function(e){var n=e.collection,i=e.rules,o=e.children,d=(0,a.z)(n);return t.createElement(l.N,{href:d,inheritBorder:!1,rules:i},o)};function s(e){var n=e.publisher,i=e.rules,a=e.children;return"User"===n.__typename?t.createElement(d,{user:n,rules:i},a):"Collection"===n.__typename?t.createElement(r,{collection:n,rules:i},a):t.createElement(t.Fragment,null,a)}},16729:(e,n,i)=>{"use strict";i.d(n,{e:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},71267:(e,n,i)=>{"use strict";i.d(n,{F:()=>d});var t=i(96540),a=i(67476),o=i(92554),l=i(36557),d=function(e){var n=e.publisher,i=e.color,d="Collection"===n.__typename?n.description:n.bio;return d?t.createElement(l.kZ,{scale:"M",color:i},t.createElement(o.r.Provider,{value:!0},t.createElement(a.O,{wrapLinks:!0},d))):null}},33487:(e,n,i)=>{"use strict";i.d(n,{l:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherName_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},65938:(e,n,i)=>{"use strict";i.d(n,{y:()=>l});var t=i(96540),a=i(56942),o=i(44402),l=function(e){var n=e.publisher,i=e.scale,l=void 0===i?"XS":i,d=e.prefix,r=e.paddingRight,s=void 0===r?"8px":r,m=(0,o.l)();return n.name?t.createElement(a.DZ,{playwrightClassName:"pw-author-name",scale:l},t.createElement("span",{className:m({wordBreak:"break-word",paddingRight:s})},d,n.name)):null}},10974:(e,n,i)=>{"use strict";i.d(n,{T:()=>m,e:()=>s});var t=i(96540),a=i(60213),o=i(64122),l=i(86527),d=i(36557),r=i(27715),s=function(e){var n,i,t=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(i=e.socialStats)||void 0===i?void 0:i.followerCount)&&void 0!==n?n:0;return{followerCount:t,isFollowerCountVisible:t>0}},m=function(e){var n=e.disableLink,i=void 0!==n&&n,m=e.scale,c=void 0===m?"L":m,u=e.publisher,k=e.color,p=e.linkStyle,v=void 0===p?"SUBTLE":p,g=e.inline,f=e.showWhenZero,S=(0,a.u)(),N=(0,o.W)(),h=s(u),y=h.followerCount,F=h.isFollowerCountVisible;if(!f&&!F)return null;var b="".concat((0,r.Ct)(y)," Follower").concat(1===y?"":"s");return t.createElement(d.kZ,{playwrightClassName:"pw-follower-count",tag:"span",scale:c,color:k},y>0&&!i?t.createElement(l.N,{href:"".concat("Collection"===u.__typename?S(u):N(u),"/followers"),linkStyle:v,inline:g},b):b)}},57066:(e,n,i)=>{"use strict";i.d(n,{V:()=>r,y:()=>d});var t=i(96540),a=i(86527),o=i(51260),l=i(27715),d=function(e){var n,i,t,a,o=0;return"User"===e.__typename&&(o=(null!==(n=null===(i=e.socialStats)||void 0===i?void 0:i.followingCount)&&void 0!==n?n:0)+(null!==(t=null===(a=e.socialStats)||void 0===a?void 0:a.collectionFollowingCount)&&void 0!==t?t:0)),{followingCount:o,isFollowingCountVisible:o>0}},r=function(e){var n=e.publisher,i=e.linkStyle,r=void 0===i?"SUBTLE":i,s=e.inline,m=e.showWhenZero,c=d(n),u=c.followingCount,k=c.isFollowingCountVisible,p=(0,o.au)();if(!m&&!k||"User"!==n.__typename)return null;var v="".concat((0,l.Ct)(u)," Following");return t.createElement(a.N,{href:p("ShowUserFollowing",{username:n.username}),linkStyle:r,inline:s},v)}},3331:(e,n,i)=>{"use strict";i.d(n,{J:()=>k,q:()=>v});var t=i(58168),a=i(96540),o=i(86527),l=i(39),d=i(44402),r=i(94644),s={S:"2px 8px",M:"8px 16px"},m=function(){return{whiteSpace:"nowrap"}},c=function(){return{marginRight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8px",border:"none",padding:"0",cursor:"pointer"}},u=function(e){return function(){return{padding:"".concat(s[e]),position:"relative"}}},k=function(e){return function(n){return{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base),borderRadius:"100px",border:"1px solid ".concat(e?n.colorTokens.border.neutral.secondary.base:n.colorTokens.border.neutral.primary.base),transition:"background 300ms ease",":hover":{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base)}}}},p=function(e){if(e)return{overflow:"hidden",textOverflow:"ellipsis"}},v=(0,a.forwardRef)((function(e,n){var i=e.topic,s=e.scale,v=void 0===s?"M":s,g=e.color,f=void 0===g?"DARKER":g,S=e.onClick,N=e.shouldTruncate,h=void 0!==N&&N,y=e.href,F=e.innerRef,b=e.includeBorder,E=e.marginRight,x=(0,d.l)(),w=(0,l.Z)({name:"detail",scale:v,color:f}),P="Topic"===i.__typename?(0,r.NZ)(i.name||""):(0,r.NZ)(i.displayTitle||"");return a.createElement(o.N,(0,t.A)({href:y},h&&{className:x({width:"100%"})},"M"===v&&{className:x(c(E))},{onClick:S,"aria-current":b?"page":void 0,ref:n}),a.createElement("div",{className:x([u(v),k(b),w,m,p(h)]),ref:F},P))}))},57426:(e,n,i)=>{"use strict";i.d(n,{v:()=>r});var t=i(96540),a=i(22381),o=i(39160),l=i(46879),d=i(3331),r=(0,t.forwardRef)((function(e,n){var i=e.topic,r=e.scale,s=e.color,m=e.onClick,c=e.shouldTruncate,u=e.includeBorder,k=e.marginRight,p=(0,o.d4)((function(e){return e.config.authDomain})),v=(0,o.d4)((function(e){return e.config.topicToTagMappings})),g=function(e,n){return"Topic"===e.__typename?n[e.slug]?n[e.slug]:e.slug:e.id||""}(i,v),f=g?(0,l.Lsb)(g,p):"#",S=(0,a.Z)({tagSlug:g}),N=S.containerRef,h=S.handleClick,y=t.useCallback((function(){null==m||m(i.id),h()}),[i.id,m,h]);return t.createElement(d.q,{topic:i,href:f,scale:r,color:s,shouldTruncate:c,onClick:y,innerRef:N,includeBorder:u,marginRight:k,ref:n})}))},22381:(e,n,i)=>{"use strict";i.d(n,{Z:()=>s});var t=i(96540),a=i(72130),o=i(49287),l=i(79429),d=i(50684),r=i(39160),s=function(e){var n=e.tagSlug,i=(0,a.$L)(),s=(0,d.MW)(),m=(0,r.d4)((function(e){return e.navigation.referrer})),c=(0,r.d4)((function(e){return e.navigation.currentLocation})),u=(0,o.jI)(),k={referrer:m||c,referrerSource:s,source:u},p=t.useCallback((function(){i.event("tag.clicked",{tagSlug:n},{overrideData:k})}),[n,i,u,s,k]);return{containerRef:(0,l.s)({onPresentedFn:function(){i.event("tag.presented",{tagSlug:n,source:u,trackingV2:!0},k)}}),handleClick:p}}},42144:(e,n,i)=>{"use strict";i.d(n,{Cg:()=>l,hB:()=>d,z8:()=>o});var t=i(45458),a=i(59265),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,t.A)(a.v0.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat((0,t.A)(o.definitions),(0,t.A)(l.definitions))}},98076:(e,n,i)=>{"use strict";i.d(n,{ZL:()=>p,KU:()=>u,Sl:()=>k});var t=i(45458),a=i(81666),o=i(78204),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat((0,t.A)(o.Z.definitions))},d=i(59025),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenuRightContent_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getHighlightString_quote"}}]}}].concat((0,t.A)(d.R.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenuRightContent_quote"}}]}}].concat((0,t.A)(r.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_highlight"}}]}}].concat((0,t.A)(s.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNewNoteCard_post"}}]}}].concat((0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}}]}}]),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNewNoteCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}}]}}]))},u=([{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"truncationConfig"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"previewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"400"}},{kind:"ObjectField",name:{kind:"Name",value:"minimumWordLengthForTruncation"},value:{kind:"IntValue",value:"150"}},{kind:"ObjectField",name:{kind:"Name",value:"truncateAtEndOfSentence"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"showFullImageCaptions"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"shortformPreviewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"30"}},{kind:"ObjectField",name:{kind:"Name",value:"shortformMinimumWordLengthForTruncation"},value:{kind:"IntValue",value:"30"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}}]}}].concat((0,t.A)(a.Rq.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_post"}}]}}].concat((0,t.A)(a.Rq.definitions),(0,t.A)(l.definitions),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]),(0,t.A)(c.definitions))}),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_highlight"}}]}}].concat((0,t.A)(m.definitions),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}}]),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),(0,t.A)(a.iu.definitions))},p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InteractivePostBodyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"showNotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"highlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_quote"}}]}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"showNotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_privateNote"}}]}}]}}]}}].concat((0,t.A)(k.definitions),(0,t.A)(a.VB.definitions))}},43030:(e,n,i)=>{"use strict";i.d(n,{N:()=>C});var t=i(58168),a=i(80296),o=i(77969),l=i(96540),d=i(92554),r=i(98503),s=i(10913),m=i(2680),c=i(47043),u=i(4171),k=i(64467),p=i(24023);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){(0,k.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function f(e,n,i){if(!e||"number"!=typeof n||"number"!=typeof i)return null;var t=n,a=i;return e.substr(t,a-t)}var S=i(27721),N=i(47517),h=i(98076),y=i(80045),F=i(39181),b=i(75636),E=i(45458),x={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useInlineComments_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"inResponseToMediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumQuote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_quote"}}]}}]}}]}}].concat((0,E.A)(h.Sl.definitions))},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InlineCommentsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"EnumValue",value:"TOP"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useInlineComments_post"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}]}}].concat((0,E.A)(x.definitions))},P=["__typename"];function _(e){return new Map(e.map((function(e){return[e.inResponseToMediaResource.mediumQuote.id,e]})))}function A(e){var n,i,t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=(0,b.z)({name:"enable_inline_comments",placeholder:!1}),r=(0,F.I)(w,{variables:{postId:e,paging:{limit:20}},skip:!d}),s=r.data,m=r.loading,c=r.fetchMore,u=null==s||null===(n=s.post)||void 0===n?void 0:n.threadedPostResponses,k=null!==(i=null==u?void 0:u.posts)&&void 0!==i?i:[],p=null==u||null===(t=u.pagingInfo)||void 0===t?void 0:t.next,v=o/4;return(0,l.useEffect)((function(){if(p){p.__typename;var e=(0,y.A)(p,P);c({variables:{paging:e}})}}),[c,p]),(0,l.useMemo)((function(){if(m||p)return{responsesMap:new Map,highlights:[]};var e=function(e,n){var i=Array.from(e.values()).map((function(e){return function(e){return Array.from(e.values()).reduce((function(e,n){return e[0]&&e[0].rank<n[0].rank?e:n}),[])}(e)}));return i.sort((function(e,n){return e[0].rank-n[0].rank})),i.slice(0,n).flat().map((function(e){return e.response}))}(k.reduce((function(e,n,i){if(function(e){var n,i,t;return!(null===(n=e.inResponseToMediaResource)||void 0===n||null===(i=n.mediumQuote)||void 0===i||null===(t=i.paragraphs[0])||void 0===t||!t.name)}(n)){var t,a,o,l,d=n.inResponseToMediaResource.mediumQuote,r=d.paragraphs[0].name,s="".concat(d.startOffset,"-").concat(d.endOffset);e.get(r)||e.set(r,new Map),null!=e&&null!==(t=e.get(r))&&void 0!==t&&t.get(s)||null===(l=e.get(r))||void 0===l||l.set(s,[]),null===(a=e.get(r))||void 0===a||null===(o=a.get(s))||void 0===o||o.push({rank:i,response:n})}return e}),new Map),v);return{responsesMap:_(e),highlights:a.concat(e.map((function(e){var n;return null===(n=e.inResponseToMediaResource)||void 0===n?void 0:n.mediumQuote})))}}),[k,a,p,m,v])}var C=l.forwardRef((function(e,n){var i,k,v,y,F=e.isAuroraPostPageEnabled,b=e.post,E=e.inlinePost,x=e.postBodyInserts,w=e.richTextStyle,P=e.markedUpBodyModel,_=(0,S.R)().value,C=E&&!b?P||(null==E||null===(i=E.extendedPreviewContent)||void 0===i?void 0:i.bodyModel):null==b||null===(k=b.content)||void 0===k?void 0:k.bodyModel,T={isAuroraPostPageEnabled:F,postBodyInserts:x,ref:n,richTextStyle:w||"FULL_PAGE",postId:(null==b?void 0:b.id)||""},D=b&&b.creator&&b.creator.allowNotes||!1,I=(0,o._)(h.ZL,{ssr:!1,variables:{postId:(null==b?void 0:b.id)||"",showNotes:D},notifyOnNetworkStatusChange:!0}),R=(0,a.A)(I,2),O=R[0],L=R[1],M=L.called,B=L.data,V=null==B?void 0:B.post;l.useEffect((function(){b&&!M&&O()}),[b]);var j=A((null==b?void 0:b.id)||"",null==V?void 0:V.highlights,null==C?void 0:C.paragraphs.length),U=j.highlights,z=j.responsesMap;if(!C)return N.v.error("Expected post to have content or preview content."),null;var W=(null==b||null===(v=b.content)||void 0===v||null===(y=v.bodyModel)||void 0===y?void 0:y.paragraphs)||[],G=function(e,n){return e&&n?e.map((function(e){var i=e.endOffset,t=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var i=n.name;return e===i})):null}(a.name,n);if(!a||!o)return null;var l=f(a.text,t,i),d=f(o.text,t,i);if(!l||!d)return null;if(l===d)return e;var r=o.text?o.text.indexOf(l):null;if("number"!=typeof r||r<0)return null;var s=r+l.length;return g(g({},e),{},{endOffset:s,startOffset:r})})).filter(p.se):e}(U,W),Z=(null==V?void 0:V.privateNotes)||null;return l.createElement(m.aB,null,l.createElement(r.R,null,l.createElement(s.k,{interactivePost:b,highlights:G,disableSelection:!b,responsesMap:z},l.createElement(u.u,{highlights:G,paragraphs:W,viewer:_},l.createElement(d.r.Provider,{value:!0},l.createElement(c.N,(0,t.A)({},T,{bodyModel:C,highlights:G,privateNotes:Z,responsesMap:z})))))))}))},81666:(e,n,i)=>{"use strict";i.d(n,{Rq:()=>E,iu:()=>x,VB:()=>w});var t=i(45458),a=i(78002),o=i(56780),l=i(3152),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IframeParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"iframe"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"iframeSrc"}},{kind:"Field",name:{kind:"Name",value:"iframeHeight"}},{kind:"Field",name:{kind:"Name",value:"iframeWidth"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"layout"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}}]}}].concat((0,t.A)(l.dn.definitions))},r=i(64373),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_highlight"}}]}}].concat((0,t.A)(a.Bf.definitions),(0,t.A)(o.ZZ.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_privateNote"}}]}}].concat((0,t.A)(a.Os.definitions),(0,t.A)(o.EN.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"IframeParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MixtapeParagraph_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CodeBlockParagraph_paragraph"}}]}}].concat((0,t.A)(o.zl.definitions),(0,t.A)(a.Rc.definitions),(0,t.A)(d.definitions),(0,t.A)(r.Y.definitions),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"CodeBlockParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"codeBlockMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lang"}},{kind:"Field",name:{kind:"Name",value:"mode"}}]}}]}}]))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_highlight"}}]}}].concat((0,t.A)(s.definitions))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_privateNote"}}]}}].concat((0,t.A)(m.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_privateNote"}}]}}].concat((0,t.A)(k.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphStyleGrouping_highlight"}}]}}].concat((0,t.A)(u.definitions))},g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyParagraph_paragraph"}}]}}].concat((0,t.A)(c.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_highlight"}}]}}].concat((0,t.A)(v.definitions))},S={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodySection_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphLayoutGrouping_privateNote"}}]}}].concat((0,t.A)(p.definitions))},N=i(73807),h=i(77485),y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesDetails_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat((0,t.A)(h.R.definitions))},F=i(59025),b={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNotesMarkers_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesDetails_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getHighlightString_quote"}}]}}].concat((0,t.A)(y.definitions),(0,t.A)(F.R.definitions))},E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"startIndex"}},{kind:"Field",name:{kind:"Name",value:"textLayout"}},{kind:"Field",name:{kind:"Name",value:"imageLayout"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"videoLayout"}},{kind:"Field",name:{kind:"Name",value:"backgroundVideo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoId"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"previewImageId"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_richText"}}]}}].concat((0,t.A)(g.definitions),(0,t.A)(N.xr.definitions))},x={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getParagraphHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNotesMarkers_highlight"}}]}}].concat((0,t.A)(N.BW.definitions),(0,t.A)(f.definitions),(0,t.A)(b.definitions))},w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBody_privateNote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Note"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"normalizedBodyModel_privateNote"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodySection_privateNote"}}]}}].concat((0,t.A)(N.VU.definitions),(0,t.A)(S.definitions))}},47043:(e,n,i)=>{"use strict";i.d(n,{N:()=>X});var t=i(58168),a=i(45458),o=i(96540),l=i(70370),d=i(44402),r={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},s=function(e){return{backgroundColor:e.colorTokens.foreground.neutral.primary.hover,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},m={marginRight:"20px"};function c(){var e=(0,d.l)();return o.createElement("div",{className:e(r),role:"separator"},o.createElement("span",{className:e([s,m])}),o.createElement("span",{className:e([s,m])}),o.createElement("span",{className:e(s)}))}var u=i(7045),k=i(80296),p=i(82284),v=i(23393),g=i(52290),f=i(33154),S=i(20239),N=i(66305);function h(e){var n=e.grid.xStep;return{padding:"".concat(3*n,"px ").concat(4*n,"px ").concat(3*n,"px"),width:"400px"}}function y(e){var n=e.close,i=e.users,t=(0,d.l)(),a=o.useRef(null),l=(0,S.D)(),r=l.grid.xStep;return o.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),t=i.bottom,o=i.top<0||t>window.innerHeight,d=window.innerWidth<l.breakpoints.xl;(o||d)&&n()}}return N.R5.on("scroll_end",e),N.R5.on("resize_throttled",e),function(){N.R5.off("scroll_end",e),N.R5.off("resize_throttled",e)}}),[]),o.createElement("section",{ref:a,className:t(h)},o.createElement(g.a,{borderBottom:"neutral.primary",marginBottom:"-".concat(r,"px"),paddingBottom:"".concat(2*r,"px")},o.createElement(f.bz,null,"Highlights (".concat(i.length,")"))),o.createElement(g.a,{marginLeft:"3px"},i.length&&i.map((function(e){return o.createElement(g.a,{display:"inline-block",key:e.id,marginTop:"".concat(5*r,"px"),marginRight:"".concat(5*r,"px"),width:"".concat(8*r,"px")},o.createElement(v.H8,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var F=o.memo(y),b=i(4171),E=i(19),x=i(86322),w=i(52764),P=i(36557),_=i(12378),A=i(60603),C=i(24023),T=i(30779),D=i(38073),I=i(23406),R=i(5562);function O(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%",overflow:"hidden"}}function L(){return{left:"100%",position:"absolute",top:0}}function M(e,n){return{marginTop:"2px",maxWidth:"100%",position:"absolute",top:"".concat(e-(n||0),"px"),whiteSpace:"nowrap",width:"100%",display:"flex",alignItems:"center",gap:"8px"}}function B(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,_.z)(e,8,!0),"px"),position:"relative"}}function V(){return{display:"block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function j(e,n){return"number"==typeof e.startOffset&&"number"==typeof n.startOffset?e.startOffset<n.startOffset?-1:1:-1}function U(e,n){var i=n.startOffset,t=n.endOffset,a=n.paragraphs[0].name;if(!a||"number"!=typeof i||"number"!=typeof t)return e;var o=!1,l=e[a]||[];return l.length&&(l=l.map((function(e){var a=i<=e.endOffset+1,l=e.startOffset,d=e.endOffset;return a&&(o=!0,e.highlights.push(n),d=Math.max(t,e.endOffset),l=Math.min(i,e.startOffset)),{highlights:e.highlights,endOffset:d,startOffset:l}}))),o||l.push({highlights:[n],endOffset:t,startOffset:i}),e[a]=l,e}function z(e){var n=e.children,i=e.highlightString,t=e.toggle,a=(0,d.l)();return"Top highlight"===i?o.createElement(o.Fragment,null,n):o.createElement("button",{className:a(O),onClick:function(){return t()},onMouseDown:function(e){return e.preventDefault()}},n)}function W(e){var n=e.responses,i=(0,o.useContext)(I.u),t=i.openSidebar,a=i.setScrollToPostId,l=(0,o.useCallback)((function(){a(n[0].id),t()}),[t,n,a]);return o.createElement(T.o,{count:n.length,onClick:l})}function G(e){var n=e.highlightString,i=e.highlights,t=(0,d.l)(),a=(0,A.e)(!1),l=(0,k.A)(a,4),r=l[0],s=l[2],m=l[3];return o.createElement(o.Fragment,null,o.createElement(z,{toggle:m,highlightString:n},o.createElement(P.kZ,{scale:"S"},o.createElement("span",{className:t(V)},n))),r&&o.createElement(E.K,{boundariesElement:"document",isVisible:!0,hide:s,placement:"right",popoverRenderFn:function(){var e=new Set,n=i.map((function(n){var i=n.user;return i&&i.id&&!e.has(i.id)?(e.add(i.id),i):null})).filter(C.se);return o.createElement(F,{close:s,users:n})}},o.createElement(o.Fragment,null)))}function Z(e){var n=e.positionMap,i=e.yPosOffset,t=e.responsesMap,a=(0,d.l)();if("number"!=typeof i)return null;var l=Array.from(n.entries());return o.createElement(w.c,{nonBlocking:!0},(function(e){return o.createElement(o.Fragment,null,l.map((function(n,l){var d=(0,k.A)(n,2),r=d[0],s=d[1],m=(0,D.F)(s,t),c=m.highlights,u=m.responses,p=(0,D.g)(c,e);return u.length?o.createElement("div",{className:a(M(r,i)),key:l},o.createElement(W,{responses:u}),c.length>0&&p&&o.createElement(o.Fragment,null,o.createElement(R.d,null),o.createElement(G,{highlightString:p,highlights:c}))):p?o.createElement("div",{className:a(M(r,i)),key:l},o.createElement(G,{highlightString:p,highlights:c})):null})))}))}var H=o.forwardRef((function(e,n){var i=e.highlights,t=e.responsesMap,l=o.useContext(b.q).highlightSegments,r=o.useRef(null),s=o.useState(null),m=(0,k.A)(s,2),c=m[0],u=m[1],v=(0,d.l)(),f=(0,S.D)(),h=o.useState(null),y=(0,k.A)(h,2),F=y[0],E=y[1],w=o.useState(null),P=(0,k.A)(w,2),_=P[0],A=P[1];return o.useEffect((function(){var e=function(){var e=function(e,n,i){var t=new Map;if(e.size&&n.length){var o=function(e){var n=(0,a.A)(e).sort(j).reduce(U,{});return Object.values(n).reduce((function(e,n){return n&&"object"===(0,p.A)(n)&&n.length?(e.push.apply(e,(0,a.A)(n)),e):e}),[])}(n),l=[];o.forEach((function(n){var a=n.highlights[0],o=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&o){var d=e.get("".concat(o,"_").concat(a.startOffset));if(d&&d.ref&&d.ref.current){var r,s=d.ref.current.getBoundingClientRect().top+window.pageYOffset;l.length&&(r=l.find((function(e){return s<e+i.newFonts.body.lineHeight.M&&s>e||s>e-i.newFonts.body.lineHeight.M&&s<e})));var m=r||s,c=t.get(m)||[];c.length||l.push(m);var u=c.concat(n.highlights);u.length&&t.set(m,u)}}}))}return t}(l,i,f);if(u(e),"function"!=typeof n&&null!=n&&n.current&&A(n.current.offsetTop),null!=r&&r.current){var t=r.current.getBoundingClientRect().left,o=window.innerWidth-t-8*f.grid.xStep;E(o)}};N.R5.on("resize_throttled",e);var t=(0,x.u)((function(n){"iframe.resize"!==n.context&&"player.js"!==n.context||e()})).destructor;return e(),function(){N.R5.off("resize_throttled",e),t()}}),[i,l]),o.createElement("div",{className:v(B)},o.createElement(g.a,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"},speechifyIgnore:!0},o.createElement("aside",{className:v(L),ref:r,style:{width:F?"".concat(F,"px"):void 0}},c&&o.createElement(Z,{highlights:i,positionMap:c,yPosOffset:_,width:F,responsesMap:t}))))})),q=o.memo(H),Y=i(98503);function Q(e,n){var i;return Object.keys(e).some((function(t){return!!e[t].find((function(e){return e.insertType===n}))&&(i=t,!0)})),i}var K=i(49728),X=o.forwardRef((function(e,n){var i,r,s=e.bodyModel,m=e.highlights,k=e.isAuroraPostPageEnabled,p=e.privateNotes,v=e.postBodyInserts,g=e.richTextStyle,f=void 0===g?"FULL_PAGE":g,S=e.responsesMap,N=(0,d.l)(),h=o.createRef(),y=null===(i=o.useContext(l._I).watchedBounds.get("byline"))||void 0===i||null===(r=i.ref)||void 0===r?void 0:r.current,F=y?y.offsetTop-48:100,b={position:"absolute",left:0,top:"calc(100vh + ".concat(F,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},E=(0,Y.v)().privateNoteSelection,x=o.useMemo((function(){return m&&E?[].concat((0,a.A)(m),[E]):m}),[m,E]),w=v?function(e){return Q(e,"BYLINE")}(v):void 0,P=v?function(e){return Q(e,"METER")}(v):void 0,_=o.useMemo((function(){return(0,K.Vg)(s,{bylineParagraphName:w,meterParagraphName:P,highlights:x,isAuroraPostPageEnabled:k,isPostPage:!0,privateNotes:p,richTextStyle:f})}),[s,x,p,f]),A=v&&v.first;return o.createElement("section",{ref:n},o.createElement("div",{ref:h},o.createElement(o.Fragment,null,o.createElement(l.B,{name:"ghost-track",type:"ghost",className:N(b)}),"FULL_PAGE"===f&&m&&m.length>0&&o.createElement(q,{highlights:(0,a.A)(m),responsesMap:S,ref:n}),!!A&&A.map((function(e,n){return e.component?o.createElement("div",{key:"postBodyInsertFirst_".concat(n)},e.component):null}))),_.map((function(e,n){if("HR"===e){var i,a,l=_[n-1],d=_[n+1],r="HR"!==l&&(null==l||null===(i=l.section)||void 0===i?void 0:i.backgroundImage),s="HR"!==d&&(null==d||null===(a=d.section)||void 0===a?void 0:a.backgroundImage);return r||s?null:o.createElement(c,{key:n})}return o.createElement(u.e,(0,t.A)({key:e.section.name||n,postBodyInserts:v},e))}))))}))},9078:(e,n,i)=>{"use strict";i.d(n,{S:()=>s});var t=i(45458),a=i(25703),o=i(62742),l=i(3714),d=i(50112),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useCopyFriendLink_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,t.A)(o.CV.definitions),(0,t.A)(l.Y.definitions),(0,t.A)(d.f.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSharePopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLink_post"}}]}}].concat((0,t.A)(a.c.definitions),(0,t.A)(r.definitions))}},59025:(e,n,i)=>{"use strict";i.d(n,{R:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getHighlightString_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},7541:(e,n,i)=>{"use strict";i.d(n,{j:()=>l});var t=i(45458),a=i(82567),o=i(77485),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherAvatar_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}]}}].concat((0,t.A)(a.$.definitions),(0,t.A)(o.R.definitions))}},26073:(e,n,i)=>{"use strict";i.d(n,{K:()=>l});var t=i(96540),a=i(28899),o=i(23393),l=function(e){var n=e.link,i=void 0!==n&&n,l=e.scale,d=void 0===l?"M":l,r=e.publisher;switch(r.__typename){case"User":return t.createElement(o.H8,{link:i,scale:d,user:r});case"Collection":return t.createElement(a.u,{link:i,size:o.eV[d],collection:r});default:return null}}},51387:(e,n,i)=>{"use strict";i.d(n,{t:()=>s});var t=i(45458),a=i(79083),o=i(62544),l=i(53521),d=i(92571),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat((0,t.A)(o.UZ.definitions),(0,t.A)(d.uS.definitions),(0,t.A)(d.jC.definitions),(0,t.A)(l.gK.definitions))},s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat((0,t.A)(a.S$.definitions),(0,t.A)(r.definitions))}},85361:(e,n,i)=>{"use strict";i.d(n,{F:()=>s,X:()=>m});var t=i(45458),a=i(63761),o=i(62544),l=i(73e3),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}]}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"responseMarkupSupported_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponse_post"}}]}}].concat((0,t.A)(a.$.definitions),(0,t.A)(o.UZ.definitions),(0,t.A)(l.sH.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResponseParentEntity_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReadOrEditSimpleResponseParentEntity_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponseParentEntity_post"}}]}}].concat((0,t.A)(l.xA.definitions),(0,t.A)(o.bh.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResponsesContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResponseParentEntity_post"}}]}}].concat((0,t.A)(r.definitions))},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostResponse_post"}}]}},{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}]}}].concat((0,t.A)(d.definitions))}},79083:(e,n,i)=>{"use strict";i.d(n,{OH:()=>a,Rz:()=>o,S$:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},84274:(e,n,i)=>{"use strict";i.d(n,{p:()=>v});var t=i(80296),a=i(52697),o=i(96540),l=i(51739),d=i(79756),r=i(44402),s=i(42976),m=i(64467),c=i(38667),u=function(e,n,i){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(a){var o=n?"0.6s":"0s";return(0,m.A)({width:i,position:"fixed",zIndex:520,backgroundColor:t,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(i,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,c.sm)(a),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},k=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},p={"@media print":{display:"none"}},v=function(e){var n=e.cleanupSidebar,i=e.children,m=e.isResponsesSidebarVisible,c=e.pagingInfoNext,v=e.isFetchingNextSetOfResponses,g=e.setIsFetching,f=e.fetchMoreWithArguments,S=e.initialSidebarRender,N=e.sidebarRef,h=(0,r.l)(),y=o.useRef(null),F=o.useState(null),b=(0,t.A)(F,2),E=b[0],x=b[1],w=o.useState(s.IZ.NOT_DISTRIBUTED),P=(0,t.A)(w,2),_=P[0],A=P[1];o.useEffect((function(){var e=y.current;if(e&&m){if(!E){var n=(0,a.K)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n=e.target;return!(null==n||!n.closest("reach-portal"))||!(null==n||!n.closest(".branch-journeys-top"))}});n.activate(),x(n)}return function(){E&&(E.deactivate(),x(null))}}}),[y.current,E,x,m]);var C,T=o.useCallback((function(){A(s.IZ.NOT_DISTRIBUTED),n()}),[n]);return o.createElement("div",{className:h(p),role:"dialog","aria-modal":"true",ref:y,tabIndex:-1},o.createElement("div",{className:h([k(S),(C=m,C?{opacity:1,pointerEvents:"all"}:{})]),onClick:T,onKeyUp:function(e){13===e.keyCode&&T()},"aria-hidden":!m,role:"presentation"}),o.createElement("div",{className:h([u(m,S,l.gH)]),"aria-hidden":!m,onScroll:function(e){return(0,d.Fl)(e,c,v,g,f)},ref:N},i({responseDistribution:_,setResponseDistribution:A,closeSidebar:T})))}},50112:(e,n,i)=>{"use strict";i.d(n,{f:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},30572:(e,n,i)=>{"use strict";i.d(n,{a:()=>k});var t=i(64467),a=i(96540),o=i(69733),l=i(99731),d=i(86527),r=i(72130),s=i(49287),m=i(46879);function c(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function u(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?c(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var k=(0,o.Ng)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var n=e.authDomain,i=e.buttonSize,t=e.buttonStyle,o=e.children,c=e.eventData,k=void 0===c?{}:c,p=e.inline,v=void 0!==p&&p,g=e.isButton,f=void 0!==g&&g,S=e.linkStyle,N=void 0===S?"SUBTLE":S,h=e.post,y=e.redirectUrl,F=e.width,b=e.id,E=e.onClick,x=y||(0,m.Icz)(n),w=(0,r.$L)(),P=(0,s.Fo)(),_=function(){var e,n;w.event("upsell.clicked",u(u({},k),{},{dimension:null==P?void 0:P.dimension,locationId:null==P?void 0:P.dimension,postId:null==h?void 0:h.id,authorId:null==h||null===(e=h.creator)||void 0===e?void 0:e.id,sequenceId:(null==h||null===(n=h.sequence)||void 0===n?void 0:n.sequenceId)||""}))};return f?a.createElement(l.$n,{buttonStyle:t,href:x,onClick:function(){null==E||E(),_()},size:i,width:F,id:b},o):a.createElement(d.N,{onClick:function(){null==E||E(),_()},href:x,linkStyle:N,inline:v,id:b},o)}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.ee4a5ea4.chunk.js.map